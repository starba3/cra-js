"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2139],{50933:function(n,e,t){t.d(e,{Z:function(){return x}});var r=t(1413),i=t(45987),o=t(64554),a=t(50533),c=t(36314),s=t(4567),u=t(93517),l=t(83854),d=t(80184);function h(n){var e=n.link,t=n.activeLast,i=n.disabled,c=e.name,s=e.href,u=e.icon,h=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),f=(0,d.jsxs)(d.Fragment,{children:[u&&(0,d.jsx)(o.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:u}),c]});return s?(0,d.jsx)(a.Z,{component:l.r,href:s,sx:h,children:f}):(0,d.jsxs)(o.Z,{sx:h,children:[" ",f," "]})}var f=["links","action","heading","moreLink","activeLast","sx"];function x(n){var e=n.links,t=n.action,l=n.heading,x=n.moreLink,Z=n.activeLast,v=n.sx,g=(0,i.Z)(n,f),m=e[e.length-1].name;return(0,d.jsxs)(o.Z,{sx:(0,r.Z)({},v),children:[(0,d.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(o.Z,{sx:{flexGrow:1},children:[l&&(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:l}),!!e.length&&(0,d.jsx)(u.Z,(0,r.Z)((0,r.Z)({separator:(0,d.jsx)(p,{})},g),{},{children:e.map((function(n){return(0,d.jsx)(h,{link:n,activeLast:Z,disabled:n.name===m},n.name||"")}))}))]}),t&&(0,d.jsxs)(o.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!x&&(0,d.jsx)(o.Z,{sx:{mt:2},children:x.map((function(n){return(0,d.jsx)(a.Z,{href:n,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:n},n)}))})]})}function p(){return(0,d.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},25265:function(n,e,t){t.d(e,{ZP:function(){return k},l2:function(){return c},wE:function(){return l}});var r=t(82599),i=t(54690),o=t(85375),a=t(9145);function c(n,e){var t=(new Date).getFullYear(),c=n?(0,r.Z)(n):null,s=e?(0,r.Z)(e):null,u=t===c&&t===s,l=!(!n||!e)&&(0,i.Z)(new Date(n),new Date(e)),d=!(!n||!e)&&(0,o.Z)(new Date(n),new Date(e));return u?d?l?(0,a.Mu)(e,"dd MMM yy"):"".concat((0,a.Mu)(n,"dd")," - ").concat((0,a.Mu)(e,"dd MMM yy")):"".concat((0,a.Mu)(n,"dd MMM")," - ").concat((0,a.Mu)(e,"dd MMM yy")):"".concat((0,a.Mu)(n,"dd MMM yy")," - ").concat((0,a.Mu)(e,"dd MMM yy"))}var s=t(29439),u=t(72791);function l(n,e){var t=(0,u.useState)(!1),r=(0,s.Z)(t,2),i=r[0],o=r[1],l=(0,u.useState)(e),d=(0,s.Z)(l,2),h=d[0],f=d[1],x=(0,u.useState)(n),p=(0,s.Z)(x,2),Z=p[0],v=p[1],g=!(!n||!e)&&new Date(n).getTime()>new Date(e).getTime(),m=(0,u.useCallback)((function(){o(!0)}),[]),j=(0,u.useCallback)((function(){o(!1)}),[]);return{startDate:Z,endDate:h,onChangeStartDate:(0,u.useCallback)((function(n){v(n)}),[]),onChangeEndDate:(0,u.useCallback)((function(n){g&&f(null),f(n)}),[g]),open:i,onOpen:m,onClose:j,onReset:(0,u.useCallback)((function(){v(null),f(null)}),[]),selected:!!Z&&!!h,error:g,label:"".concat((0,a.Mu)(Z)," - ").concat((0,a.Mu)(h)),shortLabel:c(Z,h),setStartDate:v,setEndDate:f}}var d=t(1413),h=t(53106),f=t(75015),x=t(27938),p=t(36314),Z=t(5849),v=t(5574),g=t(65661),m=t(97123),j=t(39157),b=t(30035),w=t(38887),C=t(80184);function k(n){var e=n.title,t=void 0===e?"Select date range":e,r=n.variant,i=void 0===r?"input":r,o=n.startDate,a=n.endDate,c=n.onChangeStartDate,s=n.onChangeEndDate,u=n.open,l=n.onClose,k=n.error,y=(0,w.F)("up","md"),S="calendar"===i;return(0,C.jsxs)(v.Z,{fullWidth:!0,maxWidth:!S&&"xs",open:u,onClose:l,PaperProps:{sx:(0,d.Z)({},S&&{maxWidth:720})},children:[(0,C.jsx)(g.Z,{sx:{pb:2},children:t}),(0,C.jsxs)(j.Z,{sx:(0,d.Z)({},S&&y&&{overflow:"unset"}),children:[(0,C.jsx)(p.Z,{justifyContent:"center",spacing:S?3:2,direction:S&&y?"row":"column",sx:{pt:1},children:S?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,C.jsx)(f.W,{value:o,onChange:c})}),(0,C.jsx)(x.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,C.jsx)(f.W,{value:a,onChange:s})})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(h.M,{label:"Start date",value:o,onChange:c}),(0,C.jsx)(h.M,{label:"End date",value:a,onChange:s})]})}),k&&(0,C.jsx)(b.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(Z.Z,{variant:"outlined",color:"inherit",onClick:l,children:"Cancel"}),(0,C.jsx)(Z.Z,{disabled:k,variant:"contained",onClick:l,children:"Apply"})]})]})}},3352:function(n,e,t){t.d(e,{Q:function(){return h}});var r=t(1413),i=t(45987),o=t(5849),a=t(5574),c=t(65661),s=t(97123),u=t(39157),l=t(80184),d=["title","content","action","open","onClose"];function h(n){var e=n.title,t=n.content,h=n.action,f=n.open,x=n.onClose,p=(0,i.Z)(n,d);return(0,l.jsxs)(a.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,maxWidth:"xs",open:f,onClose:x},p),{},{children:[(0,l.jsx)(c.Z,{sx:{pb:2},children:e}),t&&(0,l.jsxs)(u.Z,{sx:{typography:"body2"},children:[" ",t," "]}),(0,l.jsxs)(s.Z,{children:[h,(0,l.jsx)(o.Z,{variant:"outlined",color:"inherit",onClick:x,children:"Cancel"})]})]}))}},11633:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(1413),i=t(45987),o=t(12065),a=t(64554),c=t(4567),s=t(36314),u=t(80184),l=["title","imgUrl","action","filled","description","sx"];function d(n){var e=n.title,t=n.imgUrl,d=n.action,h=n.filled,f=n.description,x=n.sx,p=(0,i.Z)(n,l);return(0,u.jsxs)(s.Z,(0,r.Z)((0,r.Z)({flexGrow:1,alignItems:"center",justifyContent:"center",sx:(0,r.Z)((0,r.Z)({px:3,height:1},h&&{borderRadius:2,bgcolor:function(n){return(0,o.Fq)(n.palette.grey[500],.04)},border:function(n){return"dashed 1px ".concat((0,o.Fq)(n.palette.grey[500],.08))}}),x)},p),{},{children:[(0,u.jsx)(a.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),e&&(0,u.jsx)(c.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:e}),f&&(0,u.jsx)(c.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:f}),d&&d]}))}},1382:function(n,e,t){function r(n,e,t){return n?Math.max(0,(1+n)*e-t):0}function i(n,e,t){return null===n[t]?1:null===e[t]||e[t]<n[t]?-1:e[t]>n[t]?1:0}function o(n,e){return"desc"===n?function(n,t){return i(n,t,e)}:function(n,t){return-i(n,t,e)}}t.d(e,{$W:function(){return j},K:function(){return S},et:function(){return p},S_:function(){return _},Z4:function(){return I},hM:function(){return m},fQ:function(){return r},sQ:function(){return o},x6:function(){return u}});var a=t(93433),c=t(29439),s=t(72791);function u(n){var e=(0,s.useState)(!(null===n||void 0===n||!n.defaultDense)),t=(0,c.Z)(e,2),r=t[0],i=t[1],o=(0,s.useState)((null===n||void 0===n?void 0:n.defaultCurrentPage)||0),u=(0,c.Z)(o,2),l=u[0],d=u[1],h=(0,s.useState)((null===n||void 0===n?void 0:n.defaultOrderBy)||"name"),f=(0,c.Z)(h,2),x=f[0],p=f[1],Z=(0,s.useState)((null===n||void 0===n?void 0:n.defaultRowsPerPage)||5),v=(0,c.Z)(Z,2),g=v[0],m=v[1],j=(0,s.useState)((null===n||void 0===n?void 0:n.defaultOrder)||"asc"),b=(0,c.Z)(j,2),w=b[0],C=b[1],k=(0,s.useState)((null===n||void 0===n?void 0:n.defaultSelected)||[]),y=(0,c.Z)(k,2),S=y[0],M=y[1],D=(0,s.useCallback)((function(n){""!==n&&(C(x===n&&"asc"===w?"desc":"asc"),p(n))}),[w,x]),P=(0,s.useCallback)((function(n){var e=S.includes(n)?S.filter((function(e){return e!==n})):[].concat((0,a.Z)(S),[n]);M(e)}),[S]),I=(0,s.useCallback)((function(n){d(0),m(parseInt(n.target.value,10))}),[]),R=(0,s.useCallback)((function(n){i(n.target.checked)}),[]),A=(0,s.useCallback)((function(n,e){M(n?e:[])}),[]),E=(0,s.useCallback)((function(n,e){d(e)}),[]),O=(0,s.useCallback)((function(){d(0)}),[]),_=(0,s.useCallback)((function(n){M([]),l&&n<2&&d(l-1)}),[l]),F=(0,s.useCallback)((function(n){var e=n.totalRows,t=n.totalRowsInPage,r=n.totalRowsFiltered,i=S.length;if(M([]),l)if(i===t)d(l-1);else if(i===r)d(0);else if(i>t){var o=Math.ceil((e-i)/g)-1;d(o)}}),[l,g,S.length]);return{dense:r,order:w,page:l,orderBy:x,rowsPerPage:g,selected:S,onSelectRow:P,onSelectAllRows:A,onSort:D,onChangePage:E,onChangeDense:R,onResetPage:O,onChangeRowsPerPage:I,onUpdatePageDeleteRow:_,onUpdatePageDeleteRows:F,setPage:d,setDense:i,setOrder:C,setOrderBy:p,setSelected:M,setRowsPerPage:m}}var l=t(1413),d=t(9195),h=t(68745),f=t(11633),x=t(80184);function p(n){var e=n.notFound,t=n.sx;return(0,x.jsx)(d.Z,{children:e?(0,x.jsx)(h.Z,{colSpan:12,children:(0,x.jsx)(f.Z,{filled:!0,title:"No Data",sx:(0,l.Z)({py:10},t)})}):(0,x.jsx)(h.Z,{colSpan:12,sx:{p:0}})})}var Z=t(36459),v=t(36314),g=t(47047);function m(n){var e=Object.assign({},((0,Z.Z)(n),n));return(0,x.jsx)(d.Z,(0,l.Z)((0,l.Z)({},e),{},{children:(0,x.jsx)(h.Z,{colSpan:12,children:(0,x.jsxs)(v.Z,{spacing:3,direction:"row",alignItems:"center",children:[(0,x.jsx)(g.Z,{sx:{borderRadius:1.5,width:48,height:48,flexShrink:0}}),(0,x.jsx)(g.Z,{sx:{width:1,height:12}}),(0,x.jsx)(g.Z,{sx:{width:180,height:12}}),(0,x.jsx)(g.Z,{sx:{width:160,height:12}}),(0,x.jsx)(g.Z,{sx:{width:140,height:12}}),(0,x.jsx)(g.Z,{sx:{width:120,height:12}})]})})}))}function j(n){var e=n.emptyRows,t=n.height;return e?(0,x.jsx)(d.Z,{sx:(0,l.Z)({},t&&{height:t*e}),children:(0,x.jsx)(h.Z,{colSpan:9})}):null}var b=t(64554),w=t(13034),C=t(56890),k=t(80720),y={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function S(n){var e=n.order,t=n.orderBy,r=n.rowCount,i=void 0===r?0:r,o=n.headLabel,a=n.numSelected,c=void 0===a?0:a,s=n.onSort,u=n.onSelectAllRows,f=n.sx;return(0,x.jsx)(C.Z,{sx:f,children:(0,x.jsxs)(d.Z,{children:[u&&(0,x.jsx)(h.Z,{padding:"checkbox",children:(0,x.jsx)(w.Z,{indeterminate:!!c&&c<i,checked:!!i&&c===i,onChange:function(n){return u(n.target.checked)}})}),o.map((function(n){return(0,x.jsx)(h.Z,{align:n.align||"left",sortDirection:t===n.id&&e,sx:{width:n.width,minWidth:n.minWidth},children:s?(0,x.jsxs)(k.Z,{hideSortIcon:!0,active:t===n.id,direction:t===n.id?e:"asc",onClick:function(){return s(n.id)},children:[n.label,t===n.id?(0,x.jsx)(b.Z,{sx:(0,l.Z)({},y),children:"desc"===e?"sorted descending":"sorted ascending"}):null]}):n.label},n.id)}))]})})}var M=t(45987),D=t(4567),P=["dense","action","rowCount","numSelected","onSelectAllRows","sx"];function I(n){var e=n.dense,t=n.action,r=n.rowCount,i=n.numSelected,o=n.onSelectAllRows,a=n.sx,c=(0,M.Z)(n,P);return i?(0,x.jsxs)(v.Z,(0,l.Z)((0,l.Z)({direction:"row",alignItems:"center",sx:(0,l.Z)((0,l.Z)({pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter"},e&&{height:38}),a)},c),{},{children:[(0,x.jsx)(w.Z,{indeterminate:!!i&&i<r,checked:!!r&&i===r,onChange:function(n){return o(n.target.checked)}}),(0,x.jsxs)(D.Z,{variant:"subtitle2",sx:(0,l.Z)({ml:2,flexGrow:1,color:"primary.main"},e&&{ml:3}),children:[i," selected"]}),t&&t]})):null}var R=t(89891),A=t(25801),E=t(5446),O=["dense","onChangeDense","rowsPerPageOptions","sx"];function _(n){var e=n.dense,t=n.onChangeDense,r=n.rowsPerPageOptions,i=void 0===r?[5,10,25]:r,o=n.sx,a=(0,M.Z)(n,O);return(0,x.jsxs)(b.Z,{sx:(0,l.Z)({position:"relative"},o),children:[(0,x.jsx)(E.Z,(0,l.Z)((0,l.Z)({rowsPerPageOptions:i,component:"div"},a),{},{sx:{borderTopColor:"transparent"}})),t&&(0,x.jsx)(A.Z,{label:"Dense",control:(0,x.jsx)(R.Z,{checked:e,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},91617:function(n,e,t){t.d(e,{Ag:function(){return f},ES:function(){return d},G_:function(){return m},OX:function(){return v},ZN:function(){return g},iJ:function(){return Z},kT:function(){return p},qL:function(){return c},zJ:function(){return u}});var r=t(74165),i=t(15861),o=t(38072),a="https://invoicecollectionsystemapi.azurewebsites.net";function c(){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],n.next=3,fetch("".concat(a,"/api/invoices"),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){e=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,fetch("".concat(a,"/api/Invoices/Department/").concat(e),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,fetch("".concat(a,"/api/Invoices/GetInvoicesBySalesConfirmation?salesConfirm=").concat(e),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(a,"/api/invoices/").concat(e),{mode:"cors"});case 3:if(!(t=n.sent).ok){n.next=9;break}return n.next=7,t.json();case 7:return i=n.sent,n.abrupt("return",i);case 9:console.error("Failed to fetch invoice: ".concat(t.status," - ").concat(t.statusText)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:return n.abrupt("return",{});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function p(n,e){var t="";switch(n){case-1:case 0:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/Operation");break;case 1:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/installation");break;case 2:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/Sales");break;case 3:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/Collection");break;case 4:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/TenderAndContracts")}return t}function Z(n){var e="";switch(n){case-1:case 0:e=o.H.departments.operation.list;break;case 1:e=o.H.departments.installation.list;break;case 2:e=o.H.departments.sales.list;break;case 3:e=o.H.departments.collection.list;break;case 4:e=o.H.departments.tenderAndConract.list}return e}function v(){return"".concat(a,"/api/ExcelImport/import-invoices")}function g(n){return"".concat(a,"/api/Attachments/").concat(n)}function m(){return j.apply(this,arguments)}function j(){return(j=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],n.next=3,fetch("".concat(a,"/api/CollectionData"),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){e=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},41557:function(n,e,t){t.d(e,{b:function(){return o},j:function(){return a}});var r=t(80831),i=function(n){return(0,(0,r.Z)().t)(n)},o=function(){return[i("All"),i("Operation"),i("Sales"),i("Installation"),i("Collection"),i("TenderAndContracts")]},a=function(){return[i("Operation"),i("Installation"),i("Sales"),i("Collection"),i("TenderAndContracts")]}},69426:function(n,e,t){t.d(e,{O:function(){return o}});var r=t(80831),i=function(n){return(0,(0,r.Z)().t)(n)},o=function(){return[i("all"),i("statuses.paid"),i("statuses.unpaid")]}},49088:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(12065),i=t(64554),o=t(36314),a=t(4567),c=t(13239),s=t(17070),u=t(27216),l=t(80184);function d(n){var e=n.title,t=n.total,d=n.icon,h=n.color,f=n.percent,x=n.price;return(0,l.jsxs)(o.Z,{spacing:2.5,direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,l.jsxs)(o.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,l.jsx)(u.Z,{icon:d,width:32,sx:{color:h,position:"absolute"}}),(0,l.jsx)(c.Z,{variant:"determinate",value:f,size:56,thickness:2,sx:{color:h,opacity:.48}}),(0,l.jsx)(c.Z,{variant:"determinate",value:100,size:56,thickness:3,sx:{top:0,left:0,opacity:.48,position:"absolute",color:function(n){return(0,r.Fq)(n.palette.grey[500],.16)}}})]}),(0,l.jsxs)(o.Z,{spacing:.5,children:[(0,l.jsx)(a.Z,{variant:"subtitle1",children:e}),(0,l.jsxs)(i.Z,{component:"span",sx:{color:"text.disabled",typography:"body2"},children:[(0,s.v1)(t)," invoices"]}),(0,l.jsx)(a.Z,{variant:"subtitle2",children:(0,s.e_)(x)})]})]})}},17070:function(n,e,t){t.d(e,{FK:function(){return o},e_:function(){return a},f2:function(){return c},oe:function(){return u},v1:function(){return s}});var r=t(26098),i=t.n(r);function o(n){return i()(n).format()}function a(n){return l(n?i()(n).format("$0,0.00"):"",".00")}function c(n){return l(n?i()(Number(n)/100).format("0.0%"):"",".0")}function s(n){return l(n?i()(n).format("0.00a"):"",".00")}function u(n){return l(n?i()(n).format("0.0 b"):"",".0")}function l(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00";return n.includes(e)?n.replace(e,""):n}}}]);
//# sourceMappingURL=2139.57e18741.chunk.js.map