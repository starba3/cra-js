(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8881],{50933:function(n,t,e){"use strict";e.d(t,{Z:function(){return p}});var r=e(1413),s=e(45987),i=e(64554),o=e(50533),a=e(36314),c=e(4567),l=e(93517),d=e(83854),u=e(80184);function x(n){var t=n.link,e=n.activeLast,s=n.disabled,a=t.name,c=t.href,l=t.icon,x=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},s&&!e&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),h=(0,u.jsxs)(u.Fragment,{children:[l&&(0,u.jsx)(i.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:l}),a]});return c?(0,u.jsx)(o.Z,{component:d.r,href:c,sx:x,children:h}):(0,u.jsxs)(i.Z,{sx:x,children:[" ",h," "]})}var h=["links","action","heading","moreLink","activeLast","sx"];function p(n){var t=n.links,e=n.action,d=n.heading,p=n.moreLink,Z=n.activeLast,m=n.sx,j=(0,s.Z)(n,h),b=t[t.length-1].name;return(0,u.jsxs)(i.Z,{sx:(0,r.Z)({},m),children:[(0,u.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,u.jsxs)(i.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(c.Z,{variant:"h4",gutterBottom:!0,children:d}),!!t.length&&(0,u.jsx)(l.Z,(0,r.Z)((0,r.Z)({separator:(0,u.jsx)(v,{})},j),{},{children:t.map((function(n){return(0,u.jsx)(x,{link:n,activeLast:Z,disabled:n.name===b},n.name||"")}))}))]}),e&&(0,u.jsxs)(i.Z,{sx:{flexShrink:0},children:[" ",e," "]})]}),!!p&&(0,u.jsx)(i.Z,{sx:{mt:2},children:p.map((function(n){return(0,u.jsx)(o.Z,{href:n,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:n},n)}))})]})}function v(){return(0,u.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},91617:function(n,t,e){"use strict";e.d(t,{Ag:function(){return h},ES:function(){return u},G_:function(){return j},OX:function(){return m},iJ:function(){return Z},kT:function(){return v},qL:function(){return a},zJ:function(){return l}});var r=e(74165),s=e(15861),i=e(38072),o="https://invoicecollectionsystemapi.azurewebsites.net";function a(){return c.apply(this,arguments)}function c(){return(c=(0,s.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,fetch("".concat(o,"/api/invoices"),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return d.apply(this,arguments)}function d(){return(d=(0,s.Z)((0,r.Z)().mark((function n(t){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],n.next=3,fetch("".concat(o,"/api/Invoices/Department/").concat(t),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){e=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)((0,r.Z)().mark((function n(t){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],n.next=3,fetch("".concat(o,"/api/Invoices/GetInvoicesBySalesConfirmation?salesConfirm=").concat(t),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){e=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)((0,r.Z)().mark((function n(t){var e,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(o,"/api/invoices/").concat(t),{mode:"cors"});case 3:if(!(e=n.sent).ok){n.next=9;break}return n.next=7,e.json();case 7:return s=n.sent,n.abrupt("return",s);case 9:console.error("Failed to fetch invoice: ".concat(e.status," - ").concat(e.statusText)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:return n.abrupt("return",{});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function v(n,t){var e="";switch(n){case-1:case 0:e="".concat(o,"/api/Invoices/").concat(t,"/Edit/Operation");break;case 1:e="".concat(o,"/api/Invoices/").concat(t,"/Edit/installation");break;case 2:e="".concat(o,"/api/Invoices/").concat(t,"/Edit/Sales");break;case 3:e="".concat(o,"/api/Invoices/").concat(t,"/Edit/Collection");break;case 4:e="".concat(o,"/api/Invoices/").concat(t,"/Edit/TenderAndContracts")}return e}function Z(n){var t="";switch(n){case-1:case 0:t=i.H.departments.operation.list;break;case 1:t=i.H.departments.installation.list;break;case 2:t=i.H.departments.sales.list;break;case 3:t=i.H.departments.collection.list;break;case 4:t=i.H.departments.tenderAndConract.list}return t}function m(){return"".concat(o,"/api/ExcelImport/import-invoices")}function j(){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,fetch("".concat(o,"/api/CollectionData"),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},15698:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return H}});var r=e(6907),s=e(19208),i=e(74165),o=e(15861),a=e(29439),c=e(72791),l=e(89164),d=e(13239),u=e(38072),x=(e(11908),e(91617)),h=e(60720),p=e(50933),v=e(66934),Z=e(64554),m=e(57621),j=e(79836),b=e(36314),f=e(94721),y=e(9195),g=e(56890),k=e(68745),w=e(53382),S=e(24308),C=e(4567),I=e(39281),N=(e(17070),e(80160)),D=e(47974),E=e(96851),T=(e(22459),e(27216),e(80184));E.Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});var _=(0,v.ZP)(y.Z)((function(n){var t=n.theme;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}));function A(n){var t=n.invoice,e=(0,c.useState)(t),r=(0,a.Z)(e,2),s=r[0],i=(r[1],(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(C.Z,{variant:"h6",gutterBottom:!0,children:"Notes"}),(0,T.jsx)(I.Z,{sx:{overflow:"unset",mt:5},children:(0,T.jsx)(D.Z,{children:(0,T.jsxs)(j.Z,{sx:{minWidth:960},children:[(0,T.jsx)(g.Z,{children:(0,T.jsxs)(y.Z,{children:[(0,T.jsx)(k.Z,{width:40,children:"#"}),(0,T.jsx)(k.Z,{sx:{typography:"subtitle2"},children:"Note"})]})}),(0,T.jsx)(w.Z,{children:null===s||void 0===s?void 0:s.notes.map((function(n,t){return(0,T.jsxs)(y.Z,{children:[(0,T.jsx)(k.Z,{children:t+1}),(0,T.jsx)(k.Z,{children:(0,T.jsx)(C.Z,{variant:"subtitle2",children:n.noteText})})]},t)}))})]})})})]})),o=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(C.Z,{variant:"h6",gutterBottom:!0,children:"Attachments"}),(0,T.jsx)(I.Z,{sx:{overflow:"unset",mt:5},children:(0,T.jsx)(D.Z,{children:(0,T.jsxs)(j.Z,{sx:{minWidth:960},children:[(0,T.jsx)(g.Z,{children:(0,T.jsxs)(y.Z,{children:[(0,T.jsx)(k.Z,{width:40,children:"#"}),(0,T.jsx)(k.Z,{sx:{typography:"subtitle2"},children:"Name"})]})}),(0,T.jsx)(w.Z,{children:null===s||void 0===s?void 0:s.attachments.map((function(n,t){return(0,T.jsxs)(y.Z,{children:[(0,T.jsx)(k.Z,{children:t+1}),(0,T.jsx)(k.Z,{children:(0,T.jsxs)(C.Z,{variant:"subtitle2",children:[" ",(0,T.jsx)("a",{target:"_blank",rel:"noreferrer",href:n.attachmentPath,children:n.fileName})," "]})})]},t)}))})]})})})]}),l=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(_,{children:[(0,T.jsx)(k.Z,{colSpan:3}),(0,T.jsxs)(k.Z,{sx:{color:"text.secondary"},children:[(0,T.jsx)(Z.Z,{sx:{mt:2}}),"Subtotal"]}),(0,T.jsx)(k.Z,{width:120,sx:{typography:"subtitle2"},children:(0,T.jsx)(Z.Z,{sx:{mt:2}})})]}),(0,T.jsxs)(_,{children:[(0,T.jsx)(k.Z,{colSpan:3}),(0,T.jsx)(k.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,T.jsx)(k.Z,{width:120,sx:{color:"error.main",typography:"body2"}})]}),(0,T.jsxs)(_,{children:[(0,T.jsx)(k.Z,{colSpan:3}),(0,T.jsx)(k.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,T.jsx)(k.Z,{width:120,sx:{color:"error.main",typography:"body2"}})]}),(0,T.jsxs)(_,{children:[(0,T.jsx)(k.Z,{colSpan:3}),(0,T.jsx)(k.Z,{sx:{color:"text.secondary"},children:"Taxes"})]}),(0,T.jsxs)(_,{children:[(0,T.jsx)(k.Z,{colSpan:3}),(0,T.jsx)(k.Z,{sx:{typography:"subtitle1"},children:"Total"}),(0,T.jsx)(k.Z,{width:140,sx:{typography:"subtitle1"}})]})]}),d=(0,T.jsxs)(S.Z,{container:!0,children:[(0,T.jsxs)(S.Z,{xs:12,md:9,sx:{py:3},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",children:"NOTES"}),(0,T.jsx)(C.Z,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,T.jsxs)(S.Z,{xs:12,md:3,sx:{py:3,textAlign:"right"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",children:"Have a Question?"}),(0,T.jsx)(C.Z,{variant:"body2",children:"support@minimals.cc"})]})]});I.Z,D.Z,j.Z,g.Z,y.Z,k.Z,k.Z,k.Z,k.Z,k.Z,w.Z;return(0,T.jsxs)(m.Z,{sx:{pt:5,px:5},children:[(0,T.jsxs)(Z.Z,{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,T.jsx)(Z.Z,{component:"img",alt:"logo",src:"/logo/logo_single.svg",sx:{width:48,height:48}}),(0,T.jsx)(b.Z,{spacing:1,alignItems:{xs:"flex-start",md:"flex-end"},children:(0,T.jsx)(N.Z,{variant:"soft",color:"default",children:s.department})}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Issue Date:"}),null===s||void 0===s?void 0:s.issueInvoiceDate]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Amount"}),null===s||void 0===s?void 0:s.invoiceAmount]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Currency"}),null===s||void 0===s?void 0:s.currency]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Customer Code"}),null===s||void 0===s?void 0:s.customerCode]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Name English"}),null===s||void 0===s?void 0:s.customerNameEn]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Name Arabic"}),null===s||void 0===s?void 0:s.customerNameEn]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Po Number"}),null===s||void 0===s?void 0:s.customerPO]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"PO Value"}),null===s||void 0===s?void 0:s.poValue]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Region"}),null===s||void 0===s?void 0:s.region]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Contract Number"}),null===s||void 0===s?void 0:s.contractNo]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Delivery Date"}),null===s||void 0===s?void 0:s.deliveryDate]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Installation Date"}),null===s||void 0===s?void 0:s.installationDate]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Department"}),null===s||void 0===s?void 0:s.department]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Installation Status"}),null===s||void 0===s?void 0:s.installationStatus]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Days To Collected"}),null===s||void 0===s?void 0:s.daysToCollected]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Acknowledge Status"}),null===s||void 0===s?void 0:s.acknowledgeStatus]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Collection Source"}),null===s||void 0===s?void 0:s.collectionSource]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Claim Status"}),null===s||void 0===s?void 0:s.claimStatus]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Claims Detail Status"}),null===s||void 0===s?void 0:s.claimsDetailStatus]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Sales Confirm"}),null===s||void 0===s?void 0:s.salesConfirm]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Created By"}),null===s||void 0===s?void 0:s.createdBy]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Sales Taker"}),null===s||void 0===s?void 0:s.salesTakerName]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Collector Name"}),null===s||void 0===s?void 0:s.collectorName]}),(0,T.jsxs)(b.Z,{sx:{typography:"body2",mb:3},children:[(0,T.jsx)(C.Z,{variant:"subtitle2",sx:{mb:1},children:"Responsible Engineer Name"}),null===s||void 0===s?void 0:s.responsibleEngineerName]})]}),i,(0,T.jsx)(f.Z,{sx:{mt:5,borderStyle:"dashed",mb:3}}),o,(0,T.jsx)(f.Z,{sx:{mt:5,borderStyle:"dashed"}}),d]})}function B(n){var t=n.id,e=(0,h.K$)(),r=(0,c.useState)(null),s=(0,a.Z)(r,2),v=s[0],Z=s[1],m=(0,c.useState)(!0),j=(0,a.Z)(m,2),b=j[0],f=j[1];return(0,c.useEffect)((function(){var n=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,x.Ag)(t);case 3:e=n.sent,Z(e),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error fetching invoice:",n.t0);case 10:return n.prev=10,f(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[t]),b||!v?(0,T.jsx)(d.Z,{}):(console.log("currentInvoice",v),(0,T.jsxs)(l.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,T.jsx)(p.Z,{heading:null===v||void 0===v?void 0:v.invoiceNo,links:[{name:"Dashboard",href:u.H.dashboard.root},{name:"Invoice",href:u.H.dashboard.invoice.root},{name:null===v||void 0===v?void 0:v.invoiceNo}],sx:{mb:{xs:3,md:5}}}),(0,T.jsx)(A,{invoice:v})]}))}function H(){var n=(0,s.UO)().id;return console.log("Id: ",n),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(r.ql,{children:(0,T.jsx)("title",{children:" Dashboard: Invoice Details"})}),(0,T.jsx)(B,{id:n})]})}},17070:function(n,t,e){"use strict";e.d(t,{FK:function(){return i},e_:function(){return o},f2:function(){return a},oe:function(){return l},v1:function(){return c}});var r=e(26098),s=e.n(r);function i(n){return s()(n).format()}function o(n){return d(n?s()(n).format("$0,0.00"):"",".00")}function a(n){return d(n?s()(Number(n)/100).format("0.0%"):"",".0")}function c(n){return d(n?s()(n).format("0.00a"):"",".00")}function l(n){return d(n?s()(n).format("0.0 b"):"",".0")}function d(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00";return n.includes(t)?n.replace(t,""):n}},42480:function(){}}]);
//# sourceMappingURL=8881.046e797a.chunk.js.map