"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[7681],{14904:function(e,n,t){t.d(n,{D:function(){return i}});var r=t(74165),s=t(15861),a="https://invoicecollectionsystemapi.azurewebsites.net";function i(){return o.apply(this,arguments)}function o(){return(o=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,fetch("".concat(a,"/Product"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log()}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},35741:function(e,n,t){t.a(e,(async function(e,r){try{t.d(n,{Z:function(){return A}});var s=t(4942),a=t(1413),i=t(74165),o=t(15861),c=t(29439),l=t(72791),u=t(69931),d=t(57621),h=t(79836),f=t(89164),x=t(53382),p=t(39281),m=t(36314),g=t(94721),Z=t(5849),w=t(38072),j=t(19208),v=t(57689),b=t(27216),P=(t(83854),t(47974)),D=t(60720),y=t(50933),C=t(1382),S=t(91617),k=t(41557),R=t(62633),F=t(14904),E=t(10370),I=t(94388),O=t(79981),_=t(80184),L={name:"",service:[],paidStatus:[],status:"all",startDate:null,endDate:null},W=await(0,S.qL)();function A(){var e=(0,D.K$)(),n=(0,j.tv)(),t=(0,C.x6)({defaultOrderBy:"issueInvoiceDate"}),r=(0,v.s0)(),S=(0,u.nt)(),z=S.t,A=(S.currentLang,function(e){return z(e)}),B=(0,l.useState)(W),H=(0,c.Z)(B,2),G=H[0],K=H[1],Q=(0,l.useState)(L),T=(0,c.Z)(Q,2),V=T[0],$=T[1],N=(0,l.useState)(""),U=(0,c.Z)(N,2),J=(U[0],U[1],(0,l.useState)(!1)),M=(0,c.Z)(J,2),X=(M[0],M[1],(0,l.useState)(0)),Y=(0,c.Z)(X,2);Y[0],Y[1];(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,F.D)();case 3:n=e.sent,K(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching customers:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var ee=[{id:"code",label:A("code")},{id:"nameEn",label:A("nameEnglish")},{id:"nameAr",label:A("nameArabic")}],ne=!(!V.startDate||!V.endDate)&&V.startDate.getTime()>V.endDate.getTime(),te=q({inputData:G,comparator:(0,C.sQ)(t.order,t.orderBy),filters:V,dateError:ne}),re=te.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage),se=t.dense?56:76,ae=!!V.name||!!V.service.length||"all"!==V.status||!!V.startDate&&!!V.endDate,ie=!te.length&&ae||!te.length,oe=(0,l.useCallback)((function(e,n){t.onResetPage(),$((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,s.Z)({},e,n))}))}),[t]),ce=(0,l.useCallback)((function(e){var n=G.filter((function(n){return n.id!==e}));K(n),t.onUpdatePageDeleteRow(re.length)}),[re.length,t,G]),le=(0,l.useCallback)((function(e){n.push(w.H.dashboard.invoice.edit(e))}),[n]),ue=(0,l.useCallback)((function(e){n.push(w.H.dashboard.invoice.details(e))}),[n]),de=(0,l.useCallback)((function(){$(L)}),[]);return(0,_.jsxs)(f.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,_.jsx)(y.Z,{heading:"List",links:[{name:A("app"),href:w.H.dashboard.root},{name:A("product")},{name:A("list")}],action:(0,_.jsx)(m.Z,{direction:"row",divider:(0,_.jsx)(g.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:(0,_.jsx)(Z.Z,{onClick:function(){return r(w.H.customers.create)},variant:"contained",startIcon:(0,_.jsx)(b.Z,{icon:"mingcute:add-line"}),children:A("newProduct")})}),sx:{mb:{xs:3,md:5}}}),(0,_.jsxs)(d.Z,{children:[(0,_.jsx)(O.Z,{filters:V,onFilters:oe,dateError:ne,serviceOptions:(0,k.b)().map((function(e){return e})),paidStatusOptions:(0,R.O)().map((function(e){return e}))}),ae&&(0,_.jsx)(E.Z,{filters:V,onFilters:oe,onResetFilters:de,results:te.length,sx:{p:2.5,pt:0}}),(0,_.jsx)(p.Z,{sx:{position:"relative",overflow:"unset"},children:(0,_.jsx)(P.Z,{children:(0,_.jsxs)(h.Z,{size:t.dense?"small":"medium",sx:{minWidth:800},children:[(0,_.jsx)(C.K,{order:t.order,orderBy:t.orderBy,headLabel:ee,rowCount:G.length,numSelected:t.selected.length,onSort:t.onSort}),(0,_.jsxs)(x.Z,{children:[te.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map((function(e){return(0,_.jsx)(I.Z,{row:e,selected:t.selected.includes(e.id),onSelectRow:function(){return t.onSelectRow(e.id)},onViewRow:function(){return ue(e.id)},onEditRow:function(){return le(e.id)},onDeleteRow:function(){return ce(e.id)},handleOpenInquiry:function(){return console.log(e.id)}},e.id)})),(0,_.jsx)(C.$W,{height:se,emptyRows:(0,C.fQ)(t.page,t.rowsPerPage,G.length)}),(0,_.jsx)(C.et,{notFound:ie})]})]})})}),(0,_.jsx)(C.S_,{count:te.length,page:t.page,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,onRowsPerPageChange:t.onChangeRowsPerPage,dense:t.dense,onChangeDense:t.onChangeDense})]})]})}function q(e){var n=e.inputData,t=e.comparator,r=e.filters.name,s=n.map((function(e,n){return[e,n]}));return s.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n=s.map((function(e){return e[0]})),r&&(n=n.filter((function(e){return-1!==e.nameEn.toLowerCase().indexOf(r.toLowerCase())||-1!==e.nameAr.indexOf(r.toLowerCase())}))),n}r()}catch(z){r(z)}}),1)},94388:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(9195),s=t(68745),a=t(22459),i=t(52115),o=t(80184);function c(e){var n=e.row,t=(e.selected,e.onSelectRow,e.onViewRow,e.onEditRow,e.onDeleteRow,e.handleOpenInquiry,n.id,n.code),c=n.nameEn,l=n.nameAr;(0,a.k)(),(0,i.S)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.Z,{hover:!0,children:[(0,o.jsx)(s.Z,{children:t}),(0,o.jsx)(s.Z,{children:c}),(0,o.jsx)(s.Z,{children:l})]})})}},79981:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(72791),s=t(69931),a=t(36314),i=t(48550),o=t(63466),c=t(27216),l=t(52115),u=t(80184);function d(e){var n,t=e.filters,d=e.onFilters,h=(e.dateError,e.serviceOptions,e.paidStatusOptions,(0,l.S)(),(0,r.useCallback)((function(e){d("name",e.target.value)}),[d])),f=(0,s.nt)().t;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:(0,u.jsx)(a.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:(0,u.jsx)(i.Z,{fullWidth:!0,value:t.name,onChange:h,placeholder:(n="searchCustomerName",f(n)),InputProps:{startAdornment:(0,u.jsx)(o.Z,{position:"start",children:(0,u.jsx)(c.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})})})}},47681:function(e,n,t){t.a(e,(async function(e,r){try{t.r(n),t.d(n,{default:function(){return l}});var s=t(6907),a=t(35741),i=t(80184),o=e([a]);function l(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.ql,{children:(0,i.jsx)("title",{children:" Product List"})}),(0,i.jsx)(a.Z,{})]})}a=(o.then?(await o)():o)[0],r()}catch(c){r(c)}}))},10370:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),s=t(45987),a=t(64554),i=t(85771),o=t(27938),c=t(5849),l=t(36314),u=t(27216),d=t(25265),h=t(80184),f=["filters","onFilters","onResetFilters","results"],x=["label","children","sx"];function p(e){var n=e.filters,t=e.onFilters,o=e.onResetFilters,x=e.results,p=(0,s.Z)(e,f),g=(0,d.l2)(n.startDate,n.endDate);return(0,h.jsxs)(l.Z,(0,r.Z)((0,r.Z)({spacing:1.5},p),{},{children:[(0,h.jsxs)(a.Z,{sx:{typography:"body2"},children:[(0,h.jsx)("strong",{children:x}),(0,h.jsx)(a.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,h.jsxs)(l.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!n.service.length&&(0,h.jsx)(m,{label:"Service:",children:n.service.map((function(e){return(0,h.jsx)(i.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.service.filter((function(n){return n!==e}));t("service",r)}(e)}},e)}))}),"all"!==n.status&&(0,h.jsx)(m,{label:"Status:",children:(0,h.jsx)(i.Z,{size:"small",label:n.status,onDelete:function(){t("status","all")}})}),n.startDate&&n.endDate&&(0,h.jsx)(m,{label:"Date:",children:(0,h.jsx)(i.Z,{size:"small",label:g,onDelete:function(){t("startDate",null),t("endDate",null)}})}),(0,h.jsx)(c.Z,{color:"error",onClick:o,startIcon:(0,h.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function m(e){var n=e.label,t=e.children,i=e.sx,c=(0,s.Z)(e,x);return(0,h.jsxs)(l.Z,(0,r.Z)((0,r.Z)({component:o.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,r.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},i)},c),{},{children:[(0,h.jsx)(a.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,h.jsx)(l.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]}))}}}]);
//# sourceMappingURL=7681.fba8a122.chunk.js.map