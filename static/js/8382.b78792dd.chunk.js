"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[8382],{50933:function(n,e,t){t.d(e,{Z:function(){return p}});var r=t(1413),o=t(45987),c=t(64554),a=t(50533),i=t(36314),s=t(4567),u=t(93517),l=t(83854),d=t(80184);function h(n){var e=n.link,t=n.activeLast,o=n.disabled,i=e.name,s=e.href,u=e.icon,h=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},o&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),f=(0,d.jsxs)(d.Fragment,{children:[u&&(0,d.jsx)(c.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:u}),i]});return s?(0,d.jsx)(a.Z,{component:l.r,href:s,sx:h,children:f}):(0,d.jsxs)(c.Z,{sx:h,children:[" ",f," "]})}var f=["links","action","heading","moreLink","activeLast","sx"];function p(n){var e=n.links,t=n.action,l=n.heading,p=n.moreLink,Z=n.activeLast,v=n.sx,g=(0,o.Z)(n,f),m=e[e.length-1].name;return(0,d.jsxs)(c.Z,{sx:(0,r.Z)({},v),children:[(0,d.jsxs)(i.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(c.Z,{sx:{flexGrow:1},children:[l&&(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:l}),!!e.length&&(0,d.jsx)(u.Z,(0,r.Z)((0,r.Z)({separator:(0,d.jsx)(x,{})},g),{},{children:e.map((function(n){return(0,d.jsx)(h,{link:n,activeLast:Z,disabled:n.name===m},n.name||"")}))}))]}),t&&(0,d.jsxs)(c.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!p&&(0,d.jsx)(c.Z,{sx:{mt:2},children:p.map((function(n){return(0,d.jsx)(a.Z,{href:n,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:n},n)}))})]})}function x(){return(0,d.jsx)(c.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},25265:function(n,e,t){t.d(e,{ZP:function(){return C},l2:function(){return i},wE:function(){return l}});var r=t(82599),o=t(54690),c=t(85375),a=t(9145);function i(n,e){var t=(new Date).getFullYear(),i=n?(0,r.Z)(n):null,s=e?(0,r.Z)(e):null,u=t===i&&t===s,l=!(!n||!e)&&(0,o.Z)(new Date(n),new Date(e)),d=!(!n||!e)&&(0,c.Z)(new Date(n),new Date(e));return u?d?l?(0,a.Mu)(e,"dd MMM yy"):"".concat((0,a.Mu)(n,"dd")," - ").concat((0,a.Mu)(e,"dd MMM yy")):"".concat((0,a.Mu)(n,"dd MMM")," - ").concat((0,a.Mu)(e,"dd MMM yy")):"".concat((0,a.Mu)(n,"dd MMM yy")," - ").concat((0,a.Mu)(e,"dd MMM yy"))}var s=t(29439),u=t(72791);function l(n,e){var t=(0,u.useState)(!1),r=(0,s.Z)(t,2),o=r[0],c=r[1],l=(0,u.useState)(e),d=(0,s.Z)(l,2),h=d[0],f=d[1],p=(0,u.useState)(n),x=(0,s.Z)(p,2),Z=x[0],v=x[1],g=!(!n||!e)&&new Date(n).getTime()>new Date(e).getTime(),m=(0,u.useCallback)((function(){c(!0)}),[]),b=(0,u.useCallback)((function(){c(!1)}),[]);return{startDate:Z,endDate:h,onChangeStartDate:(0,u.useCallback)((function(n){v(n)}),[]),onChangeEndDate:(0,u.useCallback)((function(n){g&&f(null),f(n)}),[g]),open:o,onOpen:m,onClose:b,onReset:(0,u.useCallback)((function(){v(null),f(null)}),[]),selected:!!Z&&!!h,error:g,label:"".concat((0,a.Mu)(Z)," - ").concat((0,a.Mu)(h)),shortLabel:i(Z,h),setStartDate:v,setEndDate:f}}var d=t(1413),h=t(53106),f=t(75015),p=t(27938),x=t(36314),Z=t(5849),v=t(5574),g=t(65661),m=t(97123),b=t(39157),j=t(30035),w=t(38887),k=t(80184);function C(n){var e=n.title,t=void 0===e?"Select date range":e,r=n.variant,o=void 0===r?"input":r,c=n.startDate,a=n.endDate,i=n.onChangeStartDate,s=n.onChangeEndDate,u=n.open,l=n.onClose,C=n.error,y=(0,w.F)("up","md"),S="calendar"===o;return(0,k.jsxs)(v.Z,{fullWidth:!0,maxWidth:!S&&"xs",open:u,onClose:l,PaperProps:{sx:(0,d.Z)({},S&&{maxWidth:720})},children:[(0,k.jsx)(g.Z,{sx:{pb:2},children:t}),(0,k.jsxs)(b.Z,{sx:(0,d.Z)({},S&&y&&{overflow:"unset"}),children:[(0,k.jsx)(x.Z,{justifyContent:"center",spacing:S?3:2,direction:S&&y?"row":"column",sx:{pt:1},children:S?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,k.jsx)(f.W,{value:c,onChange:i})}),(0,k.jsx)(p.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,k.jsx)(f.W,{value:a,onChange:s})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.M,{label:"Start date",value:c,onChange:i}),(0,k.jsx)(h.M,{label:"End date",value:a,onChange:s})]})}),C&&(0,k.jsx)(j.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(Z.Z,{variant:"outlined",color:"inherit",onClick:l,children:"Cancel"}),(0,k.jsx)(Z.Z,{disabled:C,variant:"contained",onClick:l,children:"Apply"})]})]})}},11633:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(1413),o=t(45987),c=t(12065),a=t(64554),i=t(4567),s=t(36314),u=t(80184),l=["title","imgUrl","action","filled","description","sx"];function d(n){var e=n.title,t=n.imgUrl,d=n.action,h=n.filled,f=n.description,p=n.sx,x=(0,o.Z)(n,l);return(0,u.jsxs)(s.Z,(0,r.Z)((0,r.Z)({flexGrow:1,alignItems:"center",justifyContent:"center",sx:(0,r.Z)((0,r.Z)({px:3,height:1},h&&{borderRadius:2,bgcolor:function(n){return(0,c.Fq)(n.palette.grey[500],.04)},border:function(n){return"dashed 1px ".concat((0,c.Fq)(n.palette.grey[500],.08))}}),p)},x),{},{children:[(0,u.jsx)(a.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),e&&(0,u.jsx)(i.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:e}),f&&(0,u.jsx)(i.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:f}),d&&d]}))}},1382:function(n,e,t){function r(n,e,t){return n?Math.max(0,(1+n)*e-t):0}function o(n,e,t){return null===n[t]?1:null===e[t]||e[t]<n[t]?-1:e[t]>n[t]?1:0}function c(n,e){return"desc"===n?function(n,t){return o(n,t,e)}:function(n,t){return-o(n,t,e)}}t.d(e,{$W:function(){return b},K:function(){return S},et:function(){return x},S_:function(){return _},Z4:function(){return P},hM:function(){return m},fQ:function(){return r},sQ:function(){return c},x6:function(){return u}});var a=t(93433),i=t(29439),s=t(72791);function u(n){var e=(0,s.useState)(!(null===n||void 0===n||!n.defaultDense)),t=(0,i.Z)(e,2),r=t[0],o=t[1],c=(0,s.useState)((null===n||void 0===n?void 0:n.defaultCurrentPage)||0),u=(0,i.Z)(c,2),l=u[0],d=u[1],h=(0,s.useState)((null===n||void 0===n?void 0:n.defaultOrderBy)||"name"),f=(0,i.Z)(h,2),p=f[0],x=f[1],Z=(0,s.useState)((null===n||void 0===n?void 0:n.defaultRowsPerPage)||5),v=(0,i.Z)(Z,2),g=v[0],m=v[1],b=(0,s.useState)((null===n||void 0===n?void 0:n.defaultOrder)||"asc"),j=(0,i.Z)(b,2),w=j[0],k=j[1],C=(0,s.useState)((null===n||void 0===n?void 0:n.defaultSelected)||[]),y=(0,i.Z)(C,2),S=y[0],D=y[1],M=(0,s.useCallback)((function(n){""!==n&&(k(p===n&&"asc"===w?"desc":"asc"),x(n))}),[w,p]),I=(0,s.useCallback)((function(n){var e=S.includes(n)?S.filter((function(e){return e!==n})):[].concat((0,a.Z)(S),[n]);D(e)}),[S]),P=(0,s.useCallback)((function(n){d(0),m(parseInt(n.target.value,10))}),[]),R=(0,s.useCallback)((function(n){o(n.target.checked)}),[]),A=(0,s.useCallback)((function(n,e){D(n?e:[])}),[]),E=(0,s.useCallback)((function(n,e){d(e)}),[]),O=(0,s.useCallback)((function(){d(0)}),[]),_=(0,s.useCallback)((function(n){D([]),l&&n<2&&d(l-1)}),[l]),F=(0,s.useCallback)((function(n){var e=n.totalRows,t=n.totalRowsInPage,r=n.totalRowsFiltered,o=S.length;if(D([]),l)if(o===t)d(l-1);else if(o===r)d(0);else if(o>t){var c=Math.ceil((e-o)/g)-1;d(c)}}),[l,g,S.length]);return{dense:r,order:w,page:l,orderBy:p,rowsPerPage:g,selected:S,onSelectRow:I,onSelectAllRows:A,onSort:M,onChangePage:E,onChangeDense:R,onResetPage:O,onChangeRowsPerPage:P,onUpdatePageDeleteRow:_,onUpdatePageDeleteRows:F,setPage:d,setDense:o,setOrder:k,setOrderBy:x,setSelected:D,setRowsPerPage:m}}var l=t(1413),d=t(9195),h=t(68745),f=t(11633),p=t(80184);function x(n){var e=n.notFound,t=n.sx;return(0,p.jsx)(d.Z,{children:e?(0,p.jsx)(h.Z,{colSpan:12,children:(0,p.jsx)(f.Z,{filled:!0,title:"No Data",sx:(0,l.Z)({py:10},t)})}):(0,p.jsx)(h.Z,{colSpan:12,sx:{p:0}})})}var Z=t(36459),v=t(36314),g=t(47047);function m(n){var e=Object.assign({},((0,Z.Z)(n),n));return(0,p.jsx)(d.Z,(0,l.Z)((0,l.Z)({},e),{},{children:(0,p.jsx)(h.Z,{colSpan:12,children:(0,p.jsxs)(v.Z,{spacing:3,direction:"row",alignItems:"center",children:[(0,p.jsx)(g.Z,{sx:{borderRadius:1.5,width:48,height:48,flexShrink:0}}),(0,p.jsx)(g.Z,{sx:{width:1,height:12}}),(0,p.jsx)(g.Z,{sx:{width:180,height:12}}),(0,p.jsx)(g.Z,{sx:{width:160,height:12}}),(0,p.jsx)(g.Z,{sx:{width:140,height:12}}),(0,p.jsx)(g.Z,{sx:{width:120,height:12}})]})})}))}function b(n){var e=n.emptyRows,t=n.height;return e?(0,p.jsx)(d.Z,{sx:(0,l.Z)({},t&&{height:t*e}),children:(0,p.jsx)(h.Z,{colSpan:9})}):null}var j=t(64554),w=t(13034),k=t(56890),C=t(80720),y={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function S(n){var e=n.order,t=n.orderBy,r=n.rowCount,o=void 0===r?0:r,c=n.headLabel,a=n.numSelected,i=void 0===a?0:a,s=n.onSort,u=n.onSelectAllRows,f=n.sx;return(0,p.jsx)(k.Z,{sx:f,children:(0,p.jsxs)(d.Z,{children:[u&&(0,p.jsx)(h.Z,{padding:"checkbox",children:(0,p.jsx)(w.Z,{indeterminate:!!i&&i<o,checked:!!o&&i===o,onChange:function(n){return u(n.target.checked)}})}),c.map((function(n){return(0,p.jsx)(h.Z,{align:n.align||"left",sortDirection:t===n.id&&e,sx:{width:n.width,minWidth:n.minWidth},children:s?(0,p.jsxs)(C.Z,{hideSortIcon:!0,active:t===n.id,direction:t===n.id?e:"asc",onClick:function(){return s(n.id)},children:[n.label,t===n.id?(0,p.jsx)(j.Z,{sx:(0,l.Z)({},y),children:"desc"===e?"sorted descending":"sorted ascending"}):null]}):n.label},n.id)}))]})})}var D=t(45987),M=t(4567),I=["dense","action","rowCount","numSelected","onSelectAllRows","sx"];function P(n){var e=n.dense,t=n.action,r=n.rowCount,o=n.numSelected,c=n.onSelectAllRows,a=n.sx,i=(0,D.Z)(n,I);return o?(0,p.jsxs)(v.Z,(0,l.Z)((0,l.Z)({direction:"row",alignItems:"center",sx:(0,l.Z)((0,l.Z)({pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter"},e&&{height:38}),a)},i),{},{children:[(0,p.jsx)(w.Z,{indeterminate:!!o&&o<r,checked:!!r&&o===r,onChange:function(n){return c(n.target.checked)}}),(0,p.jsxs)(M.Z,{variant:"subtitle2",sx:(0,l.Z)({ml:2,flexGrow:1,color:"primary.main"},e&&{ml:3}),children:[o," selected"]}),t&&t]})):null}var R=t(89891),A=t(25801),E=t(5446),O=["dense","onChangeDense","rowsPerPageOptions","sx"];function _(n){var e=n.dense,t=n.onChangeDense,r=n.rowsPerPageOptions,o=void 0===r?[5,10,25]:r,c=n.sx,a=(0,D.Z)(n,O);return(0,p.jsxs)(j.Z,{sx:(0,l.Z)({position:"relative"},c),children:[(0,p.jsx)(E.Z,(0,l.Z)((0,l.Z)({rowsPerPageOptions:o,component:"div"},a),{},{sx:{borderTopColor:"transparent"}})),t&&(0,p.jsx)(A.Z,{label:"Dense",control:(0,p.jsx)(R.Z,{checked:e,onChange:t}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},91617:function(n,e,t){t.d(e,{Ag:function(){return f},DW:function(){return j},ES:function(){return d},G_:function(){return m},OX:function(){return v},Wu:function(){return y},ZN:function(){return g},iJ:function(){return Z},kT:function(){return x},m3:function(){return k},qL:function(){return i},zJ:function(){return u}});var r=t(74165),o=t(15861),c=(t(763),t(38072)),a="https://invoicecollectionsystemapi.azurewebsites.net";function i(){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],n.next=3,fetch("".concat(a,"/api/invoices"),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){e=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,fetch("".concat(a,"/api/Invoices/Department/").concat(e),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)((0,r.Z)().mark((function n(e){var t,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],o="",o=e?"".concat(a,"/api/Invoices/GetInvoicesBySalesConfirmation?salesConfirm=").concat(e):"".concat(a,"/api/Invoices/NotConfirmedBySales"),n.next=5,fetch(o,{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){return console.log()}));case 5:return n.abrupt("return",t);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)((0,r.Z)().mark((function n(e){var t,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(a,"/api/invoices/").concat(e),{mode:"cors"});case 3:if(!(t=n.sent).ok){n.next=9;break}return n.next=7,t.json();case 7:return o=n.sent,n.abrupt("return",o);case 9:console.error("Failed to fetch invoice: ".concat(t.status," - ").concat(t.statusText)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:return n.abrupt("return",{});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function x(n,e){var t="";switch(n){case-1:case 0:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/Operation");break;case 1:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/installation");break;case 2:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/Sales");break;case 3:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/Collection");break;case 4:t="".concat(a,"/api/Invoices/").concat(e,"/Edit/TenderAndContracts")}return t}function Z(n){var e="";switch(n){case-1:case 0:e=c.H.departments.operation.list;break;case 1:e=c.H.departments.installation.list;break;case 2:e=c.H.departments.sales.list;break;case 3:e=c.H.departments.collection.list;break;case 4:e=c.H.departments.tenderAndConract.list}return e}function v(){return"".concat(a,"/api/ExcelImport/import-invoices")}function g(n){return"".concat(a,"/api/Attachments/").concat(n)}function m(){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],n.next=3,fetch("".concat(a,"/api/CollectionData"),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){e=n})).catch((function(n){return console.log()}));case 3:return n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function j(n){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={},console.log("".concat(a,"/api/Invoices/").concat(e,"/Inquiry")),n.next=4,fetch("".concat(a,"/api/Invoices/").concat(e,"/Inquiry"),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){return console.log()}));case 4:return n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)((0,r.Z)().mark((function n(e){var t,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=[],e){n.next=3;break}return n.abrupt("return",t);case 3:return o=e.reduce((function(n,e){return"".concat(n,"customerIds=").concat(e,"&")}),""),n.next=6,fetch("".concat(a,"/api/Invoices/GetInvoicesForCustomers?").concat(o),{mode:"cors"}).then((function(n){return n.json()})).then((function(n){t=n})).catch((function(n){console.log(n),t=[]}));case 6:return console.log("Result: ",t),n.abrupt("return",t);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=!0,n.next=3,fetch("".concat(a,"/api/Invoices/").concat(e,"/Delete"),{mode:"cors",method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},Cache:"default"}).then((function(n){if(n.ok){if(204===n.status)return null;if(200===n.status)return n.json();throw new Error("Unexpected status code: ".concat(n.status))}throw new Error("Network response was not ok")})).then((function(n){console.log("Deleted successfuly")})).catch((function(n){console.log(n),t=!1}));case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},41557:function(n,e,t){t.d(e,{b:function(){return c},j:function(){return a}});var r=t(80831),o=function(n){return(0,(0,r.Z)().t)(n)},c=function(){return[o("All"),o("Operation"),o("Sales"),o("Installation"),o("Collection"),o("TenderAndContracts")]},a=function(){return[o("Operation"),o("Installation"),o("Sales"),o("Collection"),o("TenderAndContracts")]}},62633:function(n,e,t){t.d(e,{O:function(){return c}});var r=t(80831),o=function(n){return(0,(0,r.Z)().t)(n)},c=function(){return[o("all"),o("statuses.paid"),o("statuses.unpaid")]}}}]);
//# sourceMappingURL=8382.b78792dd.chunk.js.map