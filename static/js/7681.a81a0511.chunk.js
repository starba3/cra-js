"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[7681],{14904:function(e,n,t){t.d(n,{Dg:function(){return a},Ir:function(){return i},gk:function(){return u}});var r=t(74165),o=t(15861),s="https://invoicecollectionsystemapi.azurewebsites.net";function a(){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,fetch("".concat(s,"/Product"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){n=e})).catch((function(e){return console.log()}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,fetch("".concat(s,"/Product/").concat(n,"/Delete"),{mode:"cors",method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},Cache:"default"}).then((function(e){if(e.ok){if(204===e.status)return null;if(200===e.status)return e.json();throw new Error("Unexpected status code: ".concat(e.status))}throw new Error("Network response was not ok")})).then((function(e){console.log("Deleted successfuly")})).catch((function(e){console.log(e),t=!1}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"/Product/").concat(n),{mode:"cors"});case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:return o=e.sent,e.abrupt("return",o);case 9:console.error("Failed to fetch invoice: ".concat(t.status," - ").concat(t.statusText)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}},35741:function(e,n,t){t.a(e,(async function(e,r){try{t.d(n,{Z:function(){return W}});var o=t(4942),s=t(1413),a=t(74165),c=t(15861),i=t(29439),l=t(72791),u=t(69931),d=t(57621),p=t(79836),f=t(89164),h=t(53382),x=t(39281),Z=t(36314),g=t(94721),m=t(5849),v=t(38072),j=t(19208),w=t(57689),b=t(27216),k=(t(83854),t(47974)),C=t(60720),y=t(50933),D=t(1382),P=t(91617),S=t(41557),R=t(62633),F=t(14904),E=t(10370),I=t(94388),O=t(79981),L=t(80184),_={name:"",service:[],paidStatus:[],status:"all",startDate:null,endDate:null},A=await(0,P.qL)();function W(){var e=(0,C.K$)(),n=(0,j.tv)(),t=(0,D.x6)({defaultOrderBy:"issueInvoiceDate"}),r=(0,w.s0)(),P=(0,u.nt)(),T=P.t,W=(P.currentLang,function(e){return T(e)}),H=(0,l.useState)(A),q=(0,i.Z)(H,2),B=q[0],N=q[1],Q=(0,l.useState)(_),G=(0,i.Z)(Q,2),K=G[0],V=G[1],$=(0,l.useState)(!1),U=(0,i.Z)($,2),J=U[0],M=U[1],X=(0,l.useState)(""),Y=(0,i.Z)(X,2),ee=(Y[0],Y[1],(0,l.useState)(!1)),ne=(0,i.Z)(ee,2),te=(ne[0],ne[1],(0,l.useState)(0)),re=(0,i.Z)(te,2),oe=re[0];re[1];(0,l.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,F.Dg)();case 3:n=e.sent,N(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching customers:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[oe]);var se=[{id:"code",label:W("code")},{id:"productName",label:W("productName")},{id:"description",label:W("description")},{id:""}],ae=!(!K.startDate||!K.endDate)&&K.startDate.getTime()>K.endDate.getTime(),ce=z({inputData:B,comparator:(0,D.sQ)(t.order,t.orderBy),filters:K,dateError:ae}),ie=(ce.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage),t.dense?56:76),le=!!K.name||!!K.service.length||"all"!==K.status||!!K.startDate&&!!K.endDate,ue=!ce.length&&le||!ce.length,de=(0,l.useCallback)((function(e,n){t.onResetPage(),V((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,o.Z)({},e,n))}))}),[t]),pe=(0,l.useCallback)((function(e){n.push(v.H.products.edit(e))}),[n]),fe=(0,l.useCallback)((function(e){n.push(v.H.dashboard.invoice.details(e))}),[n]),he=(0,l.useCallback)((function(){V(_)}),[]);return(0,L.jsxs)(f.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,L.jsx)(y.Z,{heading:"List",links:[{name:W("app"),href:v.H.dashboard.root},{name:W("product")},{name:W("list")}],action:(0,L.jsx)(Z.Z,{direction:"row",divider:(0,L.jsx)(g.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:(0,L.jsx)(m.Z,{onClick:function(){return r(v.H.products.create)},variant:"contained",startIcon:(0,L.jsx)(b.Z,{icon:"mingcute:add-line"}),children:W("newProduct")})}),sx:{mb:{xs:3,md:5}}}),(0,L.jsxs)(d.Z,{children:[(0,L.jsx)(O.Z,{filters:K,onFilters:de,dateError:ae,serviceOptions:(0,S.b)().map((function(e){return e})),paidStatusOptions:(0,R.O)().map((function(e){return e}))}),le&&(0,L.jsx)(E.Z,{filters:K,onFilters:de,onResetFilters:he,results:ce.length,sx:{p:2.5,pt:0}}),(0,L.jsx)(x.Z,{sx:{position:"relative",overflow:"unset"},children:(0,L.jsx)(k.Z,{children:(0,L.jsxs)(p.Z,{size:t.dense?"small":"medium",sx:{minWidth:800},children:[(0,L.jsx)(D.K,{order:t.order,orderBy:t.orderBy,headLabel:se,rowCount:B.length,numSelected:t.selected.length,onSort:t.onSort}),(0,L.jsxs)(h.Z,{children:[ce.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map((function(e){return(0,L.jsx)(I.Z,{row:e,selected:t.selected.includes(e.id),onSelectRow:function(){return t.onSelectRow(e.id)},onViewRow:function(){return fe(e.id)},onEditRow:function(){return pe(e.id)},onDeleteRow:function(){return function(e){var n=!0,t=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,F.Ir)(e);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error fetching invoices:",t.t0);case 9:if(console.log("Success status: ",n),!n){t.next=22;break}return t.prev=11,t.next=14,(0,F.Dg)();case 14:r=t.sent,N(r),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(11),console.error("Error fetching invoices:",t.t1);case 21:M(!J);case 22:case"end":return t.stop()}}),t,null,[[0,6],[11,18]])})));return function(){return t.apply(this,arguments)}}();t()}(e.id)},handleOpenInquiry:function(){return console.log(e.id)}},e.id)})),(0,L.jsx)(D.$W,{height:ie,emptyRows:(0,D.fQ)(t.page,t.rowsPerPage,B.length)}),(0,L.jsx)(D.et,{notFound:ue})]})]})})}),(0,L.jsx)(D.S_,{count:ce.length,page:t.page,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,onRowsPerPageChange:t.onChangeRowsPerPage,dense:t.dense,onChangeDense:t.onChangeDense})]})]})}function z(e){var n=e.inputData,t=e.comparator,r=e.filters.name,o=n.map((function(e,n){return[e,n]}));return o.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n=o.map((function(e){return e[0]})),r&&(n=n.filter((function(e){return-1!==e.nameEn.toLowerCase().indexOf(r.toLowerCase())||-1!==e.nameAr.indexOf(r.toLowerCase())}))),n}r()}catch(T){r(T)}}),1)},94388:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(69931),o=t(5849),s=t(94721),a=t(82626),c=t(9195),i=t(68745),l=t(13400),u=t(22459),d=t(27216),p=t(3352),f=t(52115),h=t(80184);function x(e){var n=e.row,t=(e.selected,e.onSelectRow,e.onViewRow,e.onEditRow),x=e.onDeleteRow,Z=(e.handleOpenInquiry,n.id,n.code),g=n.nameEn,m=n.nameAr,v=n.descriptionEn,j=n.descriptionAr,w=(0,u.k)(),b=(0,f.S)(),k=(0,r.nt)(),C=k.t,y=k.currentLang,D=function(e){return C(e)},P="ar"===y.value?m:g,S="ar"===y.value?j:v;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c.Z,{hover:!0,children:[(0,h.jsx)(i.Z,{children:Z}),(0,h.jsx)(i.Z,{children:P}),(0,h.jsx)(i.Z,{children:S}),(0,h.jsx)(i.Z,{align:"right",sx:{px:1},children:(0,h.jsx)(l.Z,{color:b.open?"inherit":"default",onClick:b.onOpen,children:(0,h.jsx)(d.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,h.jsxs)(f.Z,{open:b.open,onClose:b.onClose,arrow:"right-top",sx:{width:160},children:[(0,h.jsxs)(a.Z,{onClick:function(){t(),b.onClose()},children:[(0,h.jsx)(d.Z,{icon:"solar:eye-bold"}),D("edit")]}),(0,h.jsx)(s.Z,{sx:{borderStyle:"solid"}}),(0,h.jsxs)(a.Z,{onClick:function(){w.onTrue(),b.onClose()},sx:{color:"error.main"},children:[(0,h.jsx)(d.Z,{icon:"solar:trash-bin-trash-bold"}),D("delete")]})]}),(0,h.jsx)(p.Q,{open:w.value,onClose:w.onFalse,title:D("delete"),content:D("deleteDialogContent"),action:(0,h.jsx)(o.Z,{variant:"contained",color:"error",onClick:function(){console.log("Delete clicked"),x(),w.onFalse()},children:D("delete")})})]})}},79981:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(72791),o=t(69931),s=t(36314),a=t(48550),c=t(63466),i=t(27216),l=t(52115),u=t(80184);function d(e){var n,t=e.filters,d=e.onFilters,p=(e.dateError,e.serviceOptions,e.paidStatusOptions,(0,l.S)(),(0,r.useCallback)((function(e){d("name",e.target.value)}),[d])),f=(0,o.nt)().t;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:(0,u.jsx)(s.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:(0,u.jsx)(a.Z,{fullWidth:!0,value:t.name,onChange:p,placeholder:(n="searchCustomerName",f(n)),InputProps:{startAdornment:(0,u.jsx)(c.Z,{position:"start",children:(0,u.jsx)(i.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})})})})}},47681:function(e,n,t){t.a(e,(async function(e,r){try{t.r(n),t.d(n,{default:function(){return l}});var o=t(6907),s=t(35741),a=t(80184),c=e([s]);function l(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ql,{children:(0,a.jsx)("title",{children:" Product List"})}),(0,a.jsx)(s.Z,{})]})}s=(c.then?(await c)():c)[0],r()}catch(i){r(i)}}))},10370:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(1413),o=t(45987),s=t(64554),a=t(85771),c=t(27938),i=t(5849),l=t(36314),u=t(27216),d=t(25265),p=t(80184),f=["filters","onFilters","onResetFilters","results"],h=["label","children","sx"];function x(e){var n=e.filters,t=e.onFilters,c=e.onResetFilters,h=e.results,x=(0,o.Z)(e,f),g=(0,d.l2)(n.startDate,n.endDate);return(0,p.jsxs)(l.Z,(0,r.Z)((0,r.Z)({spacing:1.5},x),{},{children:[(0,p.jsxs)(s.Z,{sx:{typography:"body2"},children:[(0,p.jsx)("strong",{children:h}),(0,p.jsx)(s.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,p.jsxs)(l.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!n.service.length&&(0,p.jsx)(Z,{label:"Service:",children:n.service.map((function(e){return(0,p.jsx)(a.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.service.filter((function(n){return n!==e}));t("service",r)}(e)}},e)}))}),"all"!==n.status&&(0,p.jsx)(Z,{label:"Status:",children:(0,p.jsx)(a.Z,{size:"small",label:n.status,onDelete:function(){t("status","all")}})}),n.startDate&&n.endDate&&(0,p.jsx)(Z,{label:"Date:",children:(0,p.jsx)(a.Z,{size:"small",label:g,onDelete:function(){t("startDate",null),t("endDate",null)}})}),(0,p.jsx)(i.Z,{color:"error",onClick:c,startIcon:(0,p.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function Z(e){var n=e.label,t=e.children,a=e.sx,i=(0,o.Z)(e,h);return(0,p.jsxs)(l.Z,(0,r.Z)((0,r.Z)({component:c.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,r.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},a)},i),{},{children:[(0,p.jsx)(s.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,p.jsx)(l.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]}))}}}]);
//# sourceMappingURL=7681.a81a0511.chunk.js.map