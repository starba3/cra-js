"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[6505],{50933:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),i=t(45987),o=t(64554),s=t(50533),a=t(36314),l=t(4567),c=t(93517),d=t(83854),u=t(80184);function h(e){var n=e.link,t=e.activeLast,i=e.disabled,a=n.name,l=n.href,c=n.icon,h=(0,r.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},i&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),x=(0,u.jsxs)(u.Fragment,{children:[c&&(0,u.jsx)(o.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:c}),a]});return l?(0,u.jsx)(s.Z,{component:d.r,href:l,sx:h,children:x}):(0,u.jsxs)(o.Z,{sx:h,children:[" ",x," "]})}var x=["links","action","heading","moreLink","activeLast","sx"];function p(e){var n=e.links,t=e.action,d=e.heading,p=e.moreLink,f=e.activeLast,Z=e.sx,b=(0,i.Z)(e,x),g=n[n.length-1].name;return(0,u.jsxs)(o.Z,{sx:(0,r.Z)({},Z),children:[(0,u.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,u.jsxs)(o.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:d}),!!n.length&&(0,u.jsx)(c.Z,(0,r.Z)((0,r.Z)({separator:(0,u.jsx)(m,{})},b),{},{children:n.map((function(e){return(0,u.jsx)(h,{link:e,activeLast:f,disabled:e.name===g},e.name||"")}))}))]}),t&&(0,u.jsxs)(o.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!p&&(0,u.jsx)(o.Z,{sx:{mt:2},children:p.map((function(e){return(0,u.jsx)(s.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function m(){return(0,u.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},25265:function(e,n,t){t.d(n,{ZP:function(){return w},l2:function(){return a},wE:function(){return d}});var r=t(82599),i=t(54690),o=t(85375),s=t(9145);function a(e,n){var t=(new Date).getFullYear(),a=e?(0,r.Z)(e):null,l=n?(0,r.Z)(n):null,c=t===a&&t===l,d=!(!e||!n)&&(0,i.Z)(new Date(e),new Date(n)),u=!(!e||!n)&&(0,o.Z)(new Date(e),new Date(n));return c?u?d?(0,s.Mu)(n,"dd MMM yy"):"".concat((0,s.Mu)(e,"dd")," - ").concat((0,s.Mu)(n,"dd MMM yy")):"".concat((0,s.Mu)(e,"dd MMM")," - ").concat((0,s.Mu)(n,"dd MMM yy")):"".concat((0,s.Mu)(e,"dd MMM yy")," - ").concat((0,s.Mu)(n,"dd MMM yy"))}var l=t(29439),c=t(72791);function d(e,n){var t=(0,c.useState)(!1),r=(0,l.Z)(t,2),i=r[0],o=r[1],d=(0,c.useState)(n),u=(0,l.Z)(d,2),h=u[0],x=u[1],p=(0,c.useState)(e),m=(0,l.Z)(p,2),f=m[0],Z=m[1],b=!(!e||!n)&&new Date(e).getTime()>new Date(n).getTime(),g=(0,c.useCallback)((function(){o(!0)}),[]),j=(0,c.useCallback)((function(){o(!1)}),[]);return{startDate:f,endDate:h,onChangeStartDate:(0,c.useCallback)((function(e){Z(e)}),[]),onChangeEndDate:(0,c.useCallback)((function(e){b&&x(null),x(e)}),[b]),open:i,onOpen:g,onClose:j,onReset:(0,c.useCallback)((function(){Z(null),x(null)}),[]),selected:!!f&&!!h,error:b,label:"".concat((0,s.Mu)(f)," - ").concat((0,s.Mu)(h)),shortLabel:a(f,h),setStartDate:Z,setEndDate:x}}var u=t(1413),h=t(53106),x=t(75015),p=t(27938),m=t(36314),f=t(5849),Z=t(5574),b=t(65661),g=t(97123),j=t(39157),v=t(30035),y=t(38887),k=t(80184);function w(e){var n=e.title,t=void 0===n?"Select date range":n,r=e.variant,i=void 0===r?"input":r,o=e.startDate,s=e.endDate,a=e.onChangeStartDate,l=e.onChangeEndDate,c=e.open,d=e.onClose,w=e.error,C=(0,y.F)("up","md"),S="calendar"===i;return(0,k.jsxs)(Z.Z,{fullWidth:!0,maxWidth:!S&&"xs",open:c,onClose:d,PaperProps:{sx:(0,u.Z)({},S&&{maxWidth:720})},children:[(0,k.jsx)(b.Z,{sx:{pb:2},children:t}),(0,k.jsxs)(j.Z,{sx:(0,u.Z)({},S&&C&&{overflow:"unset"}),children:[(0,k.jsx)(m.Z,{justifyContent:"center",spacing:S?3:2,direction:S&&C?"row":"column",sx:{pt:1},children:S?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,k.jsx)(x.W,{value:o,onChange:a})}),(0,k.jsx)(p.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,k.jsx)(x.W,{value:s,onChange:l})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.M,{label:"Start date",value:o,onChange:a}),(0,k.jsx)(h.M,{label:"End date",value:s,onChange:l})]})}),w&&(0,k.jsx)(v.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,k.jsxs)(g.Z,{children:[(0,k.jsx)(f.Z,{variant:"outlined",color:"inherit",onClick:d,children:"Cancel"}),(0,k.jsx)(f.Z,{disabled:w,variant:"contained",onClick:d,children:"Apply"})]})]})}},11633:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(1413),i=t(45987),o=t(12065),s=t(64554),a=t(4567),l=t(36314),c=t(80184),d=["title","imgUrl","action","filled","description","sx"];function u(e){var n=e.title,t=e.imgUrl,u=e.action,h=e.filled,x=e.description,p=e.sx,m=(0,i.Z)(e,d);return(0,c.jsxs)(l.Z,(0,r.Z)((0,r.Z)({flexGrow:1,alignItems:"center",justifyContent:"center",sx:(0,r.Z)((0,r.Z)({px:3,height:1},h&&{borderRadius:2,bgcolor:function(e){return(0,o.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat((0,o.Fq)(e.palette.grey[500],.08))}}),p)},m),{},{children:[(0,c.jsx)(s.Z,{component:"img",alt:"empty content",src:t||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,c.jsx)(a.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),x&&(0,c.jsx)(a.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:x}),u&&u]}))}},57819:function(e,n,t){t.d(n,{ZP:function(){return w},NX:function(){return o}});var r=t(29439),i=t(72791);function o(e){var n=(0,i.useState)(-1),t=(0,r.Z)(n,2),o=t[0],s=t[1];return{selected:o,open:o>=0,onOpen:(0,i.useCallback)((function(n){var t=e.findIndex((function(e){return"video"===e.type?e.poster===n:e.src===n}));s(t)}),[e]),onClose:(0,i.useCallback)((function(){s(-1)}),[]),setSelected:s}}var s=t(1413),a=t(45987),l=t(62291),c=t(70482),d=t(98628),u=t(73557),h=t(19375),x=t(38559),p=t(36654),m=t(64554),f=t(27216),Z=t(13967),b=t(12065),g=t(6199),j=t(80184);function v(){var e=(0,Z.Z)();return(0,j.jsx)(g.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,b.Fq)(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,b.Fq)(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}var y=["slides","disabledZoom","disabledVideo","disabledTotal","disabledCaptions","disabledSlideshow","disabledThumbnails","disabledFullscreen","onGetCurrentIndex"],k=24;function w(e){var n=e.slides,t=e.disabledZoom,r=e.disabledVideo,i=e.disabledTotal,o=e.disabledCaptions,c=e.disabledSlideshow,d=e.disabledThumbnails,u=e.disabledFullscreen,h=e.onGetCurrentIndex,x=(0,a.Z)(e,y),p=n?n.length:0;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v,{}),(0,j.jsx)(l.ZP,(0,s.Z)({slides:n,animation:{swipe:240},carousel:{finite:p<5},controller:{closeOnBackdropClick:!0},plugins:C({disabledZoom:t,disabledVideo:r,disabledCaptions:o,disabledSlideshow:c,disabledThumbnails:d,disabledFullscreen:u}),on:{view:function(e){var n=e.index;h&&h(n)}},toolbar:{buttons:[(0,j.jsx)(S,{totalItems:p,disabledTotal:i},0),"close"]},render:{iconClose:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:close"})},iconZoomIn:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:zoom-in"})},iconZoomOut:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:zoom-out"})},iconSlideshowPlay:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:play"})},iconSlideshowPause:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:pause"})},iconPrev:function(){return(0,j.jsx)(f.Z,{width:k+8,icon:"carbon:chevron-left"})},iconNext:function(){return(0,j.jsx)(f.Z,{width:k+8,icon:"carbon:chevron-right"})},iconExitFullscreen:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:center-to-fit"})},iconEnterFullscreen:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:fit-to-screen"})}}},x))]})}function C(e){var n=e.disabledZoom,t=e.disabledVideo,r=e.disabledCaptions,i=e.disabledSlideshow,o=e.disabledThumbnails,s=e.disabledFullscreen,a=[u.Z,x.Z,h.Z,p.Z,d.Z,c.Z];return o&&(a=a.filter((function(e){return e!==p.Z}))),r&&(a=a.filter((function(e){return e!==u.Z}))),s&&(a=a.filter((function(e){return e!==x.Z}))),i&&(a=a.filter((function(e){return e!==h.Z}))),n&&(a=a.filter((function(e){return e!==c.Z}))),t&&(a=a.filter((function(e){return e!==d.Z}))),a}function S(e){var n=e.totalItems,t=e.disabledTotal,r=(0,l.oc)().currentIndex;return t?null:(0,j.jsxs)(m.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,j.jsxs)("strong",{children:[" ",r+1," "]})," / ",n]})}},21362:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(36459),i=t(1413),o=t(45987),s=(t(88195),t(78082)),a=t(19945),l=t(71502),c=t(4204),d=t(50533),u=t(83854),h=t(32471),x=t(4942),p=t(66934),m=t(12065),f=(0,p.ZP)("div")((function(e){var n,t=e.theme,r="light"===t.palette.mode;return{h1:(0,i.Z)({margin:0},t.typography.h1),h2:(0,i.Z)({margin:0},t.typography.h2),h3:(0,i.Z)({margin:0},t.typography.h3),h4:(0,i.Z)({margin:0},t.typography.h4),h5:(0,i.Z)({margin:0},t.typography.h5),h6:(0,i.Z)({margin:0},t.typography.h6),p:(0,i.Z)({margin:0},t.typography.body1),br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":(n={lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:2*t.shape.borderRadius,backgroundColor:t.palette.background.neutral},(0,x.Z)(n,t.breakpoints.up("md"),{width:"80%"}),(0,x.Z)(n,"& p, & span",{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"}),(0,x.Z)(n,"&:before",{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}),n),"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:r?t.palette.grey[900]:(0,m.Fq)(t.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:t.spacing(.2,.5),color:t.palette.warning[r?"darker":"lighter"],backgroundColor:t.palette.warning[r?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[r?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}})),Z=t(80184),b=["sx"];function g(e){var n=e.sx,t=(0,o.Z)(e,b);return(0,Z.jsx)(f,{sx:n,children:(0,Z.jsx)(s.D,(0,i.Z)({rehypePlugins:[a.Z,c.Z,[l.Z,{singleTilde:!1}]],components:j},t))})}var j={img:function(e){var n=Object.assign({},((0,r.Z)(e),e));return(0,Z.jsx)(h.Z,(0,i.Z)({alt:n.alt,ratio:"16/9",sx:{borderRadius:2}},n))},a:function(e){var n=Object.assign({},((0,r.Z)(e),e));return n.href.includes("http")?(0,Z.jsx)(d.Z,(0,i.Z)({target:"_blank",rel:"noopener"},n)):(0,Z.jsx)(d.Z,(0,i.Z)((0,i.Z)({component:u.r,href:n.href},n),{},{children:n.children}))}}},66505:function(e,n,t){t.d(n,{lm:function(){return Ie},XJ:function(){return Ue},AE:function(){return Fe},J0:function(){return me}});var r=t(4942),i=t(1413),o=t(29439),s=t(45812),a=t.n(s),l=t(72791),c=t(36314),d=t(5849),u=t(89164),h=t(38072),x=t(83854),p=t(22459),m=t(9145),f=t(11908),Z=t(66964),b=t(27216),g=t(11633),j=t(60720),v=t(50933),y=t(64554),k=t(44369),w=t(86414),C=t(19208),S=t(50533),D=t(57621),_=t(82626),T=t(13400),F=t(49900),I=t(17070),O=t(32471),M=t(52115),E=t(25265),R=t(80184);function P(e){var n=e.tour,t=e.onView,r=e.onEdit,i=e.onDelete,o=(0,M.S)(),s=n.id,a=n.name,l=n.price,d=n.images,u=n.bookers,p=n.createdAt,f=n.available,Z=n.priceSale,g=n.destination,j=n.ratingNumber,v=(0,E.l2)(f.startDate,f.endDate),k=(0,R.jsxs)(c.Z,{direction:"row",alignItems:"center",sx:{top:8,right:8,zIndex:9,borderRadius:1,position:"absolute",p:"2px 6px 2px 4px",typography:"subtitle2",bgcolor:"warning.lighter"},children:[(0,R.jsx)(b.Z,{icon:"eva:star-fill",sx:{color:"warning.main",mr:.25}})," ",j]}),w=(0,R.jsxs)(c.Z,{direction:"row",alignItems:"center",sx:{top:8,left:8,zIndex:9,borderRadius:1,bgcolor:"grey.800",position:"absolute",p:"2px 6px 2px 4px",color:"common.white",typography:"subtitle2"},children:[!!Z&&(0,R.jsx)(y.Z,{component:"span",sx:{color:"grey.500",mr:.25,textDecoration:"line-through"},children:(0,I.e_)(Z)}),(0,I.e_)(l)]}),C=(0,R.jsxs)(c.Z,{spacing:.5,direction:"row",sx:{p:function(e){return e.spacing(1,1,0,1)}},children:[(0,R.jsxs)(c.Z,{flexGrow:1,sx:{position:"relative"},children:[w,k,(0,R.jsx)(O.Z,{alt:d[0],src:d[0],sx:{borderRadius:1,height:164,width:1}})]}),(0,R.jsxs)(c.Z,{spacing:.5,children:[(0,R.jsx)(O.Z,{alt:d[1],src:d[1],ratio:"1/1",sx:{borderRadius:1,width:80}}),(0,R.jsx)(O.Z,{alt:d[2],src:d[2],ratio:"1/1",sx:{borderRadius:1,width:80}})]})]}),P=(0,R.jsx)(F.Z,{sx:{p:function(e){return e.spacing(2.5,2.5,2,2.5)}},primary:"Posted date: ".concat((0,m.zM)(p)),secondary:(0,R.jsx)(S.Z,{component:x.r,href:h.H.dashboard.tour.details(s),color:"inherit",children:a}),primaryTypographyProps:{typography:"caption",color:"text.disabled"},secondaryTypographyProps:{mt:1,noWrap:!0,component:"span",color:"text.primary",typography:"subtitle1"}}),q=(0,R.jsxs)(c.Z,{spacing:1.5,sx:{position:"relative",p:function(e){return e.spacing(0,2.5,2.5,2.5)}},children:[(0,R.jsx)(T.Z,{onClick:o.onOpen,sx:{position:"absolute",bottom:20,right:8},children:(0,R.jsx)(b.Z,{icon:"eva:more-vertical-fill"})}),[{label:g,icon:(0,R.jsx)(b.Z,{icon:"mingcute:location-fill",sx:{color:"error.main"}})},{label:v,icon:(0,R.jsx)(b.Z,{icon:"solar:clock-circle-bold",sx:{color:"info.main"}})},{label:"".concat(u.length," Booked"),icon:(0,R.jsx)(b.Z,{icon:"solar:users-group-rounded-bold",sx:{color:"primary.main"}})}].map((function(e){return(0,R.jsxs)(c.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[e.icon,e.label]},e.label)}))]});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(D.Z,{children:[C,P,q]}),(0,R.jsxs)(M.Z,{open:o.open,onClose:o.onClose,arrow:"right-top",sx:{width:140},children:[(0,R.jsxs)(_.Z,{onClick:function(){o.onClose(),t()},children:[(0,R.jsx)(b.Z,{icon:"solar:eye-bold"}),"View"]}),(0,R.jsxs)(_.Z,{onClick:function(){o.onClose(),r()},children:[(0,R.jsx)(b.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,R.jsxs)(_.Z,{onClick:function(){o.onClose(),i()},sx:{color:"error.main"},children:[(0,R.jsx)(b.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function q(e){var n=e.tours,t=(0,C.tv)(),i=(0,l.useCallback)((function(e){t.push(h.H.dashboard.tour.details(e))}),[t]),o=(0,l.useCallback)((function(e){t.push(h.H.dashboard.tour.edit(e))}),[t]),s=(0,l.useCallback)((function(e){console.info("DELETE",e)}),[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(y.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map((function(e){return(0,R.jsx)(P,{tour:e,onView:function(){return i(e.id)},onEdit:function(){return o(e.id)},onDelete:function(){return s(e.id)}},e.id)}))}),n.length>8&&(0,R.jsx)(k.Z,{count:8,sx:(0,r.Z)({mt:8},"& .".concat(w.Z.ul),{justifyContent:"center"})})]})}function G(e){var n=e.sort,t=e.onSort,r=e.sortOptions,i=(0,M.S)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(d.Z,{disableRipple:!0,color:"inherit",onClick:i.onOpen,endIcon:(0,R.jsx)(b.Z,{icon:i.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,R.jsx)(y.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:n})]}),(0,R.jsx)(M.Z,{open:i.open,onClose:i.onClose,sx:{width:140},children:r.map((function(e){return(0,R.jsx)(_.Z,{selected:e.value===n,onClick:function(){i.onClose(),t(e.value)},children:e.label},e.value)}))})]})}var L=t(34004),W=t.n(L),z=t(79085),H=t.n(z),A=t(60220),N=t(48550),U=t(4567),B=t(63466),V=t(46314),X=t(97902),K=t(96349);function $(e){var n=e.query,t=e.results,o=e.onSearch,s=e.hrefItem,a=(0,C.tv)(),c=function(e){a.push(s(e))},d=function(e){if(n&&"Enter"===e.key){var r=t.filter((function(e){return e.name===n}))[0];c(r.id)}};return(0,R.jsx)(V.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:t,onInputChange:function(e,n){return o(n)},getOptionLabel:function(e){return e.name},noOptionsText:(0,R.jsx)(K.Z,{query:n,sx:{bgcolor:"unset"}}),isOptionEqualToValue:function(e,n){return e.id===n.id},slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:(0,r.Z)({}," .".concat(X.Z.option),{pl:.75})}},renderInput:function(e){return(0,R.jsx)(N.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Search...",onKeyUp:d,InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{startAdornment:(0,R.jsx)(B.Z,{position:"start",children:(0,R.jsx)(b.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})})}))},renderOption:function(e,n,t){var r=t.inputValue,o=H()(n.name,r),s=W()(n.name,o);return(0,l.createElement)(y.Z,(0,i.Z)((0,i.Z)({component:"li"},e),{},{onClick:function(){return c(n.id)},key:n.id}),(0,R.jsx)(A.Z,{alt:n.name,src:n.images[0],variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},n.id),(0,R.jsx)("div",{children:s.map((function(e,n){return(0,R.jsx)(U.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},n)}))},r))}})}var Q=t(93433),J=t(53106),Y=t(85771),ee=t(27029),ne=t(88654),te=t(94721),re=t(20068),ie=t(13034),oe=t(25801),se=t(47974);function ae(e){var n=e.open,t=e.onOpen,r=e.onClose,o=e.filters,s=e.onFilters,a=e.canReset,u=e.onResetFilters,h=e.destinationOptions,x=e.tourGuideOptions,p=e.serviceOptions,m=e.dateError,f=(0,l.useCallback)((function(e){var n=o.services.includes(e)?o.services.filter((function(n){return n!==e})):[].concat((0,Q.Z)(o.services),[e]);s("services",n)}),[o.services,s]),Z=(0,l.useCallback)((function(e){s("startDate",e)}),[s]),g=(0,l.useCallback)((function(e){s("endDate",e)}),[s]),j=(0,l.useCallback)((function(e){s("destination",e)}),[s]),v=(0,l.useCallback)((function(e){s("tourGuides",e)}),[s]),y=(0,R.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,R.jsx)(U.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,R.jsx)(re.Z,{title:"Reset",children:(0,R.jsx)(T.Z,{onClick:u,children:(0,R.jsx)(ee.Z,{color:"error",variant:"dot",invisible:!a,children:(0,R.jsx)(b.Z,{icon:"solar:restart-bold"})})})}),(0,R.jsx)(T.Z,{onClick:r,children:(0,R.jsx)(b.Z,{icon:"mingcute:close-line"})})]}),k=(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Durations"}),(0,R.jsxs)(c.Z,{spacing:2.5,children:[(0,R.jsx)(J.M,{label:"Start date",value:o.startDate,onChange:Z}),(0,R.jsx)(J.M,{label:"End date",value:o.endDate,onChange:g,slotProps:{textField:{error:m,helperText:m&&"End date must be later than start date"}}})]})]}),w=(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Destination"}),(0,R.jsx)(V.Z,{multiple:!0,disableCloseOnSelect:!0,options:h.map((function(e){return e.label})),getOptionLabel:function(e){return e},value:o.destination,onChange:function(e,n){return j(n)},renderInput:function(e){return(0,R.jsx)(N.Z,(0,i.Z)({placeholder:"Select Destination"},e))},renderOption:function(e,n){var t=h.filter((function(e){return e.label===n}))[0],r=t.code,o=t.label,s=t.phone;return o?(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:o}),(0,R.jsx)(b.Z,{icon:"circle-flags:".concat(r.toLowerCase()),width:28,sx:{mr:1}},o),o," (",r,") +",s):null},renderTags:function(e,n){return e.map((function(e,t){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:t})),{},{key:e,label:e,size:"small",variant:"soft"}))}))}})]}),C=(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour Guide"}),(0,R.jsx)(V.Z,{multiple:!0,disableCloseOnSelect:!0,options:x,value:o.tourGuides,onChange:function(e,n){return v(n)},getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,R.jsx)(N.Z,(0,i.Z)({placeholder:"Select Tour Guides"},e))},renderOption:function(e,n){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:n.id}),(0,R.jsx)(A.Z,{alt:n.avatarUrl,src:n.avatarUrl,sx:{width:24,height:24,flexShrink:0,mr:1}},n.id),n.name)},renderTags:function(e,n){return e.map((function(e,t){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:t})),{},{key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,R.jsx)(A.Z,{alt:e.name,src:e.avatarUrl})}))}))}})]}),S=(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1},children:"Services"}),p.map((function(e){return(0,R.jsx)(oe.Z,{control:(0,R.jsx)(ie.Z,{checked:o.services.includes(e),onClick:function(){return f(e)}}),label:e},e)}))]});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(d.Z,{disableRipple:!0,color:"inherit",endIcon:(0,R.jsx)(ee.Z,{color:"error",variant:"dot",invisible:!a,children:(0,R.jsx)(b.Z,{icon:"ic:round-filter-list"})}),onClick:t,children:"Filters"}),(0,R.jsxs)(ne.ZP,{anchor:"right",open:n,onClose:r,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[y,(0,R.jsx)(te.Z,{}),(0,R.jsx)(se.Z,{sx:{px:2.5,py:3},children:(0,R.jsxs)(c.Z,{spacing:3,children:[k,w,C,S]})})]})]})}var le=t(45987),ce=t(27938),de=["filters","onFilters","canReset","onResetFilters","results"],ue=["label","children","sx"];function he(e){var n=e.filters,t=e.onFilters,r=e.canReset,o=e.onResetFilters,s=e.results,a=(0,le.Z)(e,de),l=(0,E.l2)(n.startDate,n.endDate);return(0,R.jsxs)(c.Z,(0,i.Z)((0,i.Z)({spacing:1.5},a),{},{children:[(0,R.jsxs)(y.Z,{sx:{typography:"body2"},children:[(0,R.jsx)("strong",{children:s}),(0,R.jsx)(y.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,R.jsxs)(c.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[n.startDate&&n.endDate&&(0,R.jsx)(xe,{label:"Available:",children:(0,R.jsx)(Y.Z,{size:"small",label:l,onDelete:function(){t("startDate",null),t("endDate",null)}})}),!!n.services.length&&(0,R.jsx)(xe,{label:"Services:",children:n.services.map((function(e){return(0,R.jsx)(Y.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.services.filter((function(n){return n!==e}));t("services",r)}(e)}},e)}))}),!!n.tourGuides.length&&(0,R.jsx)(xe,{label:"Tour guide:",children:n.tourGuides.map((function(e){return(0,R.jsx)(Y.Z,{size:"small",avatar:(0,R.jsx)(A.Z,{alt:e.name,src:e.avatarUrl}),label:e.name,onDelete:function(){return function(e){var r=n.tourGuides.filter((function(n){return n.name!==e.name}));t("tourGuides",r)}(e)}},e.id)}))}),!!n.destination.length&&(0,R.jsx)(xe,{label:"Destination:",children:n.destination.map((function(e){return(0,R.jsx)(Y.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.destination.filter((function(n){return n!==e}));t("destination",r)}(e)}},e)}))}),r&&(0,R.jsx)(d.Z,{color:"error",onClick:o,startIcon:(0,R.jsx)(b.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function xe(e){var n=e.label,t=e.children,r=e.sx,o=(0,le.Z)(e,ue);return(0,R.jsxs)(c.Z,(0,i.Z)((0,i.Z)({component:ce.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,i.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},r)},o),{},{children:[(0,R.jsx)(y.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,R.jsx)(c.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]}))}var pe={destination:[],tourGuides:[],services:[],startDate:null,endDate:null};function me(){var e=(0,j.K$)(),n=(0,p.k)(),t=(0,l.useState)("latest"),s=(0,o.Z)(t,2),a=s[0],m=s[1],y=(0,l.useState)({query:"",results:[]}),k=(0,o.Z)(y,2),w=k[0],C=k[1],S=(0,l.useState)(pe),D=(0,o.Z)(S,2),_=D[0],T=D[1],F=!(!_.startDate||!_.endDate)&&_.startDate.getTime()>_.endDate.getTime(),I=fe({inputData:f.as,filters:_,sortBy:a,dateError:F}),O=!!_.destination.length||!!_.tourGuides.length||!!_.services.length||!!_.startDate&&!!_.endDate,M=!I.length&&O,E=(0,l.useCallback)((function(e,n){T((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},e,n))}))}),[]),P=(0,l.useCallback)((function(e){m(e)}),[]),L=(0,l.useCallback)((function(e){if(C((function(n){return(0,i.Z)((0,i.Z)({},n),{},{query:e})})),e){var n=f.as.filter((function(e){return-1!==e.name.toLowerCase().indexOf(w.query.toLowerCase())}));C((function(e){return(0,i.Z)((0,i.Z)({},e),{},{results:n})}))}}),[w.query]),W=(0,l.useCallback)((function(){T(pe)}),[]),z=(0,R.jsxs)(c.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,R.jsx)($,{query:w.query,results:w.results,onSearch:L,hrefItem:function(e){return h.H.dashboard.tour.details(e)}}),(0,R.jsxs)(c.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,R.jsx)(ae,{open:n.value,onOpen:n.onTrue,onClose:n.onFalse,filters:_,onFilters:E,canReset:O,onResetFilters:W,serviceOptions:f.Aj.map((function(e){return e.label})),tourGuideOptions:f.$r,destinationOptions:Z.h,dateError:F}),(0,R.jsx)(G,{sort:a,onSort:P,sortOptions:f.f3})]})]}),H=(0,R.jsx)(he,{filters:_,onResetFilters:W,canReset:O,onFilters:E,results:I.length});return(0,R.jsxs)(u.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,R.jsx)(v.Z,{heading:"List",links:[{name:"Dashboard",href:h.H.dashboard.root},{name:"Tour",href:h.H.dashboard.tour.root},{name:"List"}],action:(0,R.jsx)(d.Z,{component:x.r,href:h.H.dashboard.tour.new,variant:"contained",startIcon:(0,R.jsx)(b.Z,{icon:"mingcute:add-line"}),children:"New Tour"}),sx:{mb:{xs:3,md:5}}}),(0,R.jsxs)(c.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[z,O&&H]}),M&&(0,R.jsx)(g.Z,{title:"No Data",filled:!0,sx:{py:10}}),(0,R.jsx)(q,{tours:I})]})}var fe=function(e){var n=e.inputData,t=e.filters,r=e.sortBy,i=e.dateError,o=t.services,s=t.destination,l=t.startDate,c=t.endDate,d=t.tourGuides.map((function(e){return e.id}));return"latest"===r&&(n=a()(n,["createdAt"],["desc"])),"oldest"===r&&(n=a()(n,["createdAt"],["asc"])),"popular"===r&&(n=a()(n,["totalViews"],["desc"])),i||l&&c&&(n=n.filter((function(e){return(0,m.IO)(e.available.startDate)>=(0,m.IO)(l)&&(0,m.IO)(e.available.endDate)<=(0,m.IO)(c)}))),s.length&&(n=n.filter((function(e){return s.includes(e.destination)}))),d.length&&(n=n.filter((function(e){return e.tourGuides.some((function(e){return d.includes(e.id)}))}))),o.length&&(n=n.filter((function(e){return e.services.some((function(e){return o.includes(e)}))}))),n},Ze=t(74165),be=t(15861),ge=t(8007),je=t(44695),ve=t(61134),ye=t(12258),ke=t(89891),we=t(24308),Ce=t(9585),Se=t(38887),De=t(32869),_e=t(39231);function Te(e){var n=e.currentTour,t=(0,C.tv)(),r=(0,Se.F)("up","md"),o=(0,De.Ds)().enqueueSnackbar,s=ge.Ry().shape({name:ge.Z_().required("Name is required"),content:ge.Z_().required("Content is required"),images:ge.IX().min(1,"Images is required"),tourGuides:ge.IX().min(1,"Must have at least 1 guide"),durations:ge.Z_().required("Duration is required"),tags:ge.IX().min(2,"Must have at least 2 tags"),services:ge.IX().min(2,"Must have at least 2 services"),destination:ge.Z_().required("Destination is required"),available:ge.Ry().shape({startDate:ge.nK().nullable().required("Start date is required"),endDate:ge.nK().required("End date is required").test("date-min","End date must be later than start date",(function(e,n){var t=n.parent;return e.getTime()>t.startDate.getTime()}))})}),a=(0,l.useMemo)((function(){return{name:(null===n||void 0===n?void 0:n.name)||"",content:(null===n||void 0===n?void 0:n.content)||"",images:(null===n||void 0===n?void 0:n.images)||[],tourGuides:(null===n||void 0===n?void 0:n.tourGuides)||[],tags:(null===n||void 0===n?void 0:n.tags)||[],durations:(null===n||void 0===n?void 0:n.durations)||"",destination:(null===n||void 0===n?void 0:n.destination)||"",services:(null===n||void 0===n?void 0:n.services)||[],available:{startDate:(null===n||void 0===n?void 0:n.available.startDate)||null,endDate:(null===n||void 0===n?void 0:n.available.endDate)||null}}}),[n]),d=(0,ve.cI)({resolver:(0,je.X)(s),defaultValues:a}),u=d.watch,x=d.reset,p=d.control,m=d.setValue,g=d.handleSubmit,j=d.formState.isSubmitting,v=u();(0,l.useEffect)((function(){n&&x(a)}),[n,a,x]);var y=g(function(){var e=(0,be.Z)((0,Ze.Z)().mark((function e(r){return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:x(),o(n?"Update success!":"Create success!"),t.push(h.H.dashboard.tour.root),console.info("DATA",r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()),k=(0,l.useCallback)((function(e){var n=v.images||[],t=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));m("images",[].concat((0,Q.Z)(n),(0,Q.Z)(t)),{shouldValidate:!0})}),[m,v.images]),w=(0,l.useCallback)((function(e){var n,t=v.images&&(null===(n=v.images)||void 0===n?void 0:n.filter((function(n){return n!==e})));m("images",t)}),[m,v.images]),S=(0,l.useCallback)((function(){m("images",[])}),[m]),_=(0,R.jsxs)(R.Fragment,{children:[r&&(0,R.jsxs)(we.Z,{md:4,children:[(0,R.jsx)(U.Z,{variant:"h6",sx:{mb:.5},children:"Details"}),(0,R.jsx)(U.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),(0,R.jsx)(we.Z,{xs:12,md:8,children:(0,R.jsxs)(D.Z,{children:[!r&&(0,R.jsx)(Ce.Z,{title:"Details"}),(0,R.jsxs)(c.Z,{spacing:3,sx:{p:3},children:[(0,R.jsxs)(c.Z,{spacing:1.5,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Name"}),(0,R.jsx)(_e.au,{name:"name",placeholder:"Ex: Adventure Seekers Expedition..."})]}),(0,R.jsxs)(c.Z,{spacing:1.5,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Content"}),(0,R.jsx)(_e.LM,{simple:!0,name:"content"})]}),(0,R.jsxs)(c.Z,{spacing:1.5,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Images"}),(0,R.jsx)(_e.rd,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onDrop:k,onRemove:w,onRemoveAll:S,onUpload:function(){return console.info("ON UPLOAD")}})]})]})]})})]}),T=(0,R.jsxs)(R.Fragment,{children:[r&&(0,R.jsxs)(we.Z,{md:4,children:[(0,R.jsx)(U.Z,{variant:"h6",sx:{mb:.5},children:"Properties"}),(0,R.jsx)(U.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),(0,R.jsx)(we.Z,{xs:12,md:8,children:(0,R.jsxs)(D.Z,{children:[!r&&(0,R.jsx)(Ce.Z,{title:"Properties"}),(0,R.jsxs)(c.Z,{spacing:3,sx:{p:3},children:[(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour Guide"}),(0,R.jsx)(_e.Fl,{multiple:!0,name:"tourGuides",placeholder:"+ Tour Guides",disableCloseOnSelect:!0,options:f.$r,getOptionLabel:function(e){return e.name},isOptionEqualToValue:function(e,n){return e.id===n.id},renderOption:function(e,n){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:n.id}),(0,R.jsx)(A.Z,{alt:n.avatarUrl,src:n.avatarUrl,sx:{width:24,height:24,flexShrink:0,mr:1}},n.id),n.name)},renderTags:function(e,n){return e.map((function(e,t){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:t})),{},{key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,R.jsx)(A.Z,{alt:e.name,src:e.avatarUrl})}))}))}})]}),(0,R.jsxs)(c.Z,{spacing:1.5,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Available"}),(0,R.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,children:[(0,R.jsx)(ve.Qr,{name:"available.startDate",control:p,render:function(e){var n=e.field,t=e.fieldState.error;return(0,R.jsx)(J.M,(0,i.Z)((0,i.Z)({},n),{},{format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message}}}))}}),(0,R.jsx)(ve.Qr,{name:"available.endDate",control:p,render:function(e){var n=e.field,t=e.fieldState.error;return(0,R.jsx)(J.M,(0,i.Z)((0,i.Z)({},n),{},{format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message}}}))}})]})]}),(0,R.jsxs)(c.Z,{spacing:1.5,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Duration"}),(0,R.jsx)(_e.au,{name:"durations",placeholder:"Ex: 2 days, 4 days 3 nights..."})]}),(0,R.jsxs)(c.Z,{spacing:1.5,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Destination"}),(0,R.jsx)(_e.Fl,{name:"destination",placeholder:"+ Destination",options:Z.h.map((function(e){return e.label})),getOptionLabel:function(e){return e},renderOption:function(e,n){var t=Z.h.filter((function(e){return e.label===n}))[0],r=t.code,o=t.label,s=t.phone;return o?(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:o}),(0,R.jsx)(b.Z,{icon:"circle-flags:".concat(r.toLowerCase()),width:28,sx:{mr:1}},o),o," (",r,") +",s):null}})]}),(0,R.jsxs)(c.Z,{spacing:1,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Services"}),(0,R.jsx)(_e.s2,{name:"services",options:f.Aj,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]}),(0,R.jsxs)(c.Z,{spacing:1.5,children:[(0,R.jsx)(U.Z,{variant:"subtitle2",children:"Tags"}),(0,R.jsx)(_e.Fl,{name:"tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:f.Qw.map((function(e){return e})),getOptionLabel:function(e){return e},renderOption:function(e,n){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:n}),n)},renderTags:function(e,n){return e.map((function(e,t){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:t})),{},{key:e,label:e,size:"small",color:"info",variant:"soft"}))}))}})]})]})]})})]}),F=(0,R.jsxs)(R.Fragment,{children:[r&&(0,R.jsx)(we.Z,{md:4}),(0,R.jsxs)(we.Z,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(oe.Z,{control:(0,R.jsx)(ke.Z,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),(0,R.jsx)(ye.Z,{type:"submit",variant:"contained",size:"large",loading:j,sx:{ml:2},children:n?"Save Changes":"Create Tour"})]})]});return(0,R.jsx)(_e.ZP,{methods:d,onSubmit:y,children:(0,R.jsxs)(we.Z,{container:!0,spacing:3,children:[_,T,F]})})}function Fe(e){var n=e.id,t=(0,j.K$)(),r=f.as.find((function(e){return e.id===n}));return(0,R.jsxs)(u.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,R.jsx)(v.Z,{heading:"Edit",links:[{name:"Dashboard",href:h.H.dashboard.root},{name:"Tour",href:h.H.dashboard.tour.root},{name:null===r||void 0===r?void 0:r.name}],sx:{mb:{xs:3,md:5}}}),(0,R.jsx)(Te,{currentTour:r})]})}function Ie(){var e=(0,j.K$)();return(0,R.jsxs)(u.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,R.jsx)(v.Z,{heading:"Create a new tour",links:[{name:"Dashboard",href:h.H.dashboard.root},{name:"Tour",href:h.H.dashboard.tour.root},{name:"New tour"}],sx:{mb:{xs:3,md:5}}}),(0,R.jsx)(Te,{})]})}var Oe=t(61474),Me=t(2101),Ee=t(80160),Re=["publish","backLink","editLink","liveLink","publishOptions","onChangePublish","sx"];function Pe(e){var n=e.publish,t=e.backLink,r=e.editLink,o=e.liveLink,s=e.publishOptions,a=e.onChangePublish,l=e.sx,u=(0,le.Z)(e,Re),h=(0,M.S)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(c.Z,(0,i.Z)((0,i.Z)({spacing:1.5,direction:"row",sx:(0,i.Z)({mb:{xs:3,md:5}},l)},u),{},{children:[(0,R.jsx)(d.Z,{component:x.r,href:t,startIcon:(0,R.jsx)(b.Z,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,R.jsx)(y.Z,{sx:{flexGrow:1}}),"published"===n&&(0,R.jsx)(re.Z,{title:"Go Live",children:(0,R.jsx)(T.Z,{component:x.r,href:o,children:(0,R.jsx)(b.Z,{icon:"eva:external-link-fill"})})}),(0,R.jsx)(re.Z,{title:"Edit",children:(0,R.jsx)(T.Z,{component:x.r,href:r,children:(0,R.jsx)(b.Z,{icon:"solar:pen-bold"})})}),(0,R.jsx)(ye.Z,{color:"inherit",variant:"contained",loading:!n,loadingIndicator:"Loading\u2026",endIcon:(0,R.jsx)(b.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:h.onOpen,sx:{textTransform:"capitalize"},children:n})]})),(0,R.jsx)(M.Z,{open:h.open,onClose:h.onClose,arrow:"top-right",sx:{width:140},children:s.map((function(e){return(0,R.jsxs)(_.Z,{selected:e.value===n,onClick:function(){h.onClose(),a(e.value)},children:["published"===e.value&&(0,R.jsx)(b.Z,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,R.jsx)(b.Z,{icon:"solar:file-text-bold"}),e.label]},e.value)}))})]})}var qe=t(45358),Ge=t(21362),Le=t(82486),We=t(57819);function ze(e){var n=e.tour,t=n.name,r=n.images,o=n.content,s=n.services,a=n.tourGuides,l=n.available,d=n.durations,u=n.destination,h=n.ratingNumber,x=r.map((function(e){return{src:e}})),p=(0,We.NX)(x),Z=p.selected,g=p.open,j=p.onOpen,v=p.onClose,k=(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(y.Z,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{mb:{xs:3,md:5}},children:[(0,R.jsx)(qe.m.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:(0,Le.BN)(),children:(0,R.jsx)(O.Z,{alt:x[0].src,src:x[0].src,ratio:"1/1",onClick:function(){return j(x[0].src)},sx:{borderRadius:2,cursor:"pointer"}})},x[0].src),(0,R.jsx)(y.Z,{gap:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:x.slice(1,5).map((function(e){return(0,R.jsx)(qe.m.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:(0,Le.BN)(),children:(0,R.jsx)(O.Z,{alt:e.src,src:e.src,ratio:"1/1",onClick:function(){return j(e.src)},sx:{borderRadius:2,cursor:"pointer"}})},e.src)}))})]}),(0,R.jsx)(We.ZP,{index:Z,slides:x,open:g,close:v})]}),w=(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(c.Z,{direction:"row",sx:{mb:3},children:[(0,R.jsx)(U.Z,{variant:"h4",sx:{flexGrow:1},children:t}),(0,R.jsx)(T.Z,{children:(0,R.jsx)(b.Z,{icon:"solar:share-bold"})}),(0,R.jsx)(ie.Z,{defaultChecked:!0,color:"error",icon:(0,R.jsx)(b.Z,{icon:"solar:heart-outline"}),checkedIcon:(0,R.jsx)(b.Z,{icon:"solar:heart-bold"})})]}),(0,R.jsxs)(c.Z,{spacing:3,direction:"row",flexWrap:"wrap",alignItems:"center",children:[(0,R.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,R.jsx)(b.Z,{icon:"eva:star-fill",sx:{color:"warning.main"}}),(0,R.jsx)(y.Z,{component:"span",sx:{typography:"subtitle2"},children:h}),(0,R.jsx)(S.Z,{sx:{color:"text.secondary"},children:"(234 reviews)"})]}),(0,R.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,R.jsx)(b.Z,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),u]}),(0,R.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"subtitle2"},children:[(0,R.jsx)(b.Z,{icon:"solar:flag-bold",sx:{color:"info.main"}}),(0,R.jsx)(y.Z,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:"Guide by"}),a.map((function(e){return e.name})).join(", ")]})]})]}),C=(0,R.jsx)(y.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[{label:"Available",value:"".concat((0,m.Mu)(l.startDate)," - ").concat((0,m.Mu)(l.endDate)),icon:(0,R.jsx)(b.Z,{icon:"solar:calendar-date-bold"})},{label:"Contact name",value:a.map((function(e){return e.phoneNumber})).join(", "),icon:(0,R.jsx)(b.Z,{icon:"solar:user-rounded-bold"})},{label:"Durations",value:d,icon:(0,R.jsx)(b.Z,{icon:"solar:clock-circle-bold"})},{label:"Contact phone",value:a.map((function(e){return e.name})).join(", "),icon:(0,R.jsx)(b.Z,{icon:"solar:phone-bold"})}].map((function(e){return(0,R.jsxs)(c.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,R.jsx)(F.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},e.label)}))}),D=(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ge.Z,{children:o}),(0,R.jsxs)(c.Z,{spacing:2,children:[(0,R.jsx)(U.Z,{variant:"h6",children:" Services"}),(0,R.jsx)(y.Z,{rowGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:f.Aj.map((function(e){return(0,R.jsxs)(c.Z,{spacing:1,direction:"row",alignItems:"center",sx:(0,i.Z)({},s.includes(e.label)&&{color:"text.disabled"}),children:[(0,R.jsx)(b.Z,{icon:"eva:checkmark-circle-2-outline",sx:(0,i.Z)({color:"primary.main"},s.includes(e.label)&&{color:"text.disabled"})}),e.label]},e.label)}))})]})]});return(0,R.jsxs)(R.Fragment,{children:[k,(0,R.jsxs)(c.Z,{sx:{maxWidth:720,mx:"auto"},children:[w,(0,R.jsx)(te.Z,{sx:{borderStyle:"dashed",my:5}}),C,(0,R.jsx)(te.Z,{sx:{borderStyle:"dashed",my:5}}),D]})]})}var He=t(12065);function Ae(e){var n=e.bookers,t=(0,l.useState)([]),r=(0,o.Z)(t,2),i=r[0],s=r[1],a=(0,l.useCallback)((function(e){var n=i.includes(e)?i.filter((function(n){return n!==e})):[].concat((0,Q.Z)(i),[e]);s(n)}),[i]);return(0,R.jsx)(y.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map((function(e){return(0,R.jsx)(Ne,{booker:e,selected:i.includes(e.id),onSelected:function(){return a(e.id)}},e.id)}))})}function Ne(e){var n=e.booker,t=e.selected,r=e.onSelected;return(0,R.jsxs)(c.Z,{component:D.Z,direction:"row",spacing:2,sx:{p:3},children:[(0,R.jsx)(A.Z,{alt:n.name,src:n.avatarUrl,sx:{width:48,height:48}}),(0,R.jsxs)(c.Z,{spacing:2,flexGrow:1,children:[(0,R.jsx)(F.Z,{primary:n.name,secondary:(0,R.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,children:[(0,R.jsx)(b.Z,{icon:"solar:users-group-rounded-bold",width:16}),n.guests," guests"]}),secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),(0,R.jsxs)(c.Z,{spacing:1,direction:"row",children:[(0,R.jsx)(T.Z,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:function(e){return(0,He.Fq)(e.palette.error.main,.08)},"&:hover":{bgcolor:function(e){return(0,He.Fq)(e.palette.error.main,.16)}}},children:(0,R.jsx)(b.Z,{width:18,icon:"solar:phone-bold"})}),(0,R.jsx)(T.Z,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:function(e){return(0,He.Fq)(e.palette.info.main,.08)},"&:hover":{bgcolor:function(e){return(0,He.Fq)(e.palette.info.main,.16)}}},children:(0,R.jsx)(b.Z,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,R.jsx)(T.Z,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:function(e){return(0,He.Fq)(e.palette.primary.main,.08)},"&:hover":{bgcolor:function(e){return(0,He.Fq)(e.palette.primary.main,.16)}}},children:(0,R.jsx)(b.Z,{width:18,icon:"fluent:mail-24-filled"})})]})]}),(0,R.jsx)(d.Z,{size:"small",variant:t?"text":"outlined",color:t?"success":"inherit",startIcon:t?(0,R.jsx)(b.Z,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:r,children:t?"Approved":"Approve"})]},n.id)}function Ue(e){var n=e.id,t=(0,j.K$)(),r=f.as.filter((function(e){return e.id===n}))[0],i=(0,l.useState)(null===r||void 0===r?void 0:r.publish),s=(0,o.Z)(i,2),a=s[0],c=s[1],d=(0,l.useState)("content"),x=(0,o.Z)(d,2),p=x[0],m=x[1],Z=(0,l.useCallback)((function(e,n){m(n)}),[]),b=(0,l.useCallback)((function(e){c(e)}),[]),g=(0,R.jsx)(Me.Z,{value:p,onChange:Z,sx:{mb:{xs:3,md:5}},children:f.bY.map((function(e){return(0,R.jsx)(Oe.Z,{iconPosition:"end",value:e.value,label:e.label,icon:"bookers"===e.value?(0,R.jsx)(Ee.Z,{variant:"filled",children:null===r||void 0===r?void 0:r.bookers.length}):""},e.value)}))});return(0,R.jsxs)(u.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,R.jsx)(Pe,{backLink:h.H.dashboard.tour.root,editLink:h.H.dashboard.tour.edit("".concat(null===r||void 0===r?void 0:r.id)),liveLink:"#",publish:a||"",onChangePublish:b,publishOptions:f.ie}),g,"content"===p&&(0,R.jsx)(ze,{tour:r}),"bookers"===p&&(0,R.jsx)(Ae,{bookers:null===r||void 0===r?void 0:r.bookers})]})}}}]);
//# sourceMappingURL=6505.06f1fc20.chunk.js.map